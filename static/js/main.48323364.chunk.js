/*! For license information please see main.48323364.chunk.js.LICENSE.txt */
(this.webpackJsonplattex=this.webpackJsonplattex||[]).push([[0],{1616:function(e,t,a){},1617:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"LOADER",(function(){return lo})),a.d(n,"TOKEN",(function(){return ro})),a.d(n,"AUTHORIZED",(function(){return co})),a.d(n,"USER_PROFILE",(function(){return io})),a.d(n,"ERROR",(function(){return mo}));var o=a(0),l=a.n(o),r=a(20),c=a.n(r),i=a(325),m=a(21),s=a(110),u=a(138),d=a(35),p=a(51),g=a(84),f=a(132),b=a(25),h=a(141),E=a(650),x=a.n(E),y=(a(714),a(715),a(716),a(717),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(t?"url(":"","https://awv3node-homepage.surge.sh/build/assets/").concat(e,".svg").concat(t?")":"")}),O=function(){l.a.useRef();var e=null,t=Object(b.a)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.Parallax,{ref:function(t){return e=t},pages:3,style:{backgroundColor:"#F8F8F8"},className:"big-box"},l.a.createElement(f.ParallaxLayer,{offset:0,speed:1,style:{backgroundColor:t.palette.primary.main}}),l.a.createElement(f.ParallaxLayer,{offset:0,speed:0,factor:3,style:{backgroundImage:y("stars",!0),backgroundSize:"cover"}}),l.a.createElement(f.ParallaxLayer,{offset:1,speed:1,style:{backgroundColor:"#805E73"}}),l.a.createElement(f.ParallaxLayer,{offset:2,speed:1,style:{backgroundColor:"#87BCDE"}}),l.a.createElement(f.ParallaxLayer,{offset:2.5,speed:-.4,style:{display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"}},l.a.createElement("img",{src:y("earth"),style:{width:"60%"}})),l.a.createElement(f.ParallaxLayer,{offset:0,speed:.1,onClick:function(){return e.scrollTo(1)},style:{display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement("div",{className:"wrapper",style:{marginLeft:"30%",transform:"translate(-25%, 0)"}},l.a.createElement("img",{src:x.a,style:{width:"50%",marginLeft:"50%",transform:"translate(-50%, 0)"},className:"logo"}),l.a.createElement(h.a,{variant:"h3",className:"text"},"LATEX DOCUMENT PROCESSOR"))),l.a.createElement(f.ParallaxLayer,{offset:1,speed:.1,onClick:function(){return e.scrollTo(2)},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:10}},l.a.createElement("img",{src:y("bash"),style:{width:"40%"}}),l.a.createElement(h.a,{variant:"h3",className:"text",style:{width:"50%"}},"Create a LaTeX document",l.a.createElement("br",null),"Without coding")),l.a.createElement(f.ParallaxLayer,{offset:2,speed:-0,style:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){return e.scrollTo(0)}},l.a.createElement(h.a,{variant:"h3",className:"text",style:{width:"50%"}},"Web-based and cloud-stored",l.a.createElement("br",null)," Write anywhere and anytime"),l.a.createElement("img",{src:y("clients-main"),style:{width:"40%"}}))))},v=a(31),w=a(412),j=a.n(w),k=a(653),C=a.n(k),S=a(654),T=a.n(S),I=a(663),R=a.n(I),N=a(655),P=a.n(N),D=a(661),A=a.n(D),L=a(423),F=a.n(L),_=a(247),B=a.n(_),W=a(656),U=a.n(W),H=a(167),z=a.n(H),M=a(658),q=a.n(M),$=a(659),X=a.n($),Z=a(660),G=a.n(Z),K=a(664),Y=a.n(K),V=a(657),J=a.n(V),Q=a(662),ee=a.n(Q),te=a(665),ae=a.n(te),ne=a(320),oe=a.n(ne),le=a(244),re=a(358),ce=a(1656),ie=a(276),me={Add:Object(o.forwardRef)((function(e,t){return l.a.createElement(T.a,Object.assign({},e,{ref:t}))})),Check:Object(o.forwardRef)((function(e,t){return l.a.createElement(P.a,Object.assign({},e,{ref:t}))})),Clear:Object(o.forwardRef)((function(e,t){return l.a.createElement(B.a,Object.assign({},e,{ref:t}))})),Delete:Object(o.forwardRef)((function(e,t){return l.a.createElement(U.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(o.forwardRef)((function(e,t){return l.a.createElement(F.a,Object.assign({},e,{ref:t}))})),Edit:Object(o.forwardRef)((function(e,t){return l.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Export:Object(o.forwardRef)((function(e,t){return l.a.createElement(J.a,Object.assign({},e,{ref:t}))})),Filter:Object(o.forwardRef)((function(e,t){return l.a.createElement(q.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(o.forwardRef)((function(e,t){return l.a.createElement(X.a,Object.assign({},e,{ref:t}))})),LastPage:Object(o.forwardRef)((function(e,t){return l.a.createElement(G.a,Object.assign({},e,{ref:t}))})),NextPage:Object(o.forwardRef)((function(e,t){return l.a.createElement(F.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(o.forwardRef)((function(e,t){return l.a.createElement(A.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(o.forwardRef)((function(e,t){return l.a.createElement(B.a,Object.assign({},e,{ref:t}))})),Search:Object(o.forwardRef)((function(e,t){return l.a.createElement(ee.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(o.forwardRef)((function(e,t){return l.a.createElement(R.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(o.forwardRef)((function(e,t){return l.a.createElement(Y.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(o.forwardRef)((function(e,t){return l.a.createElement(ae.a,Object.assign({},e,{ref:t}))}))},se=Object(ie.a)()((function(e){var t=e.documents,a=e.loading,n=e.deleteDocument,r=Object(d.g)(),c=Object(b.a)(),i=Object(o.useState)(window.innerWidth),s=Object(m.a)(i,2),u=s[0],p=s[1];return Object(o.useEffect)((function(){function e(){p(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,{icons:me,isLoading:a,data:t,columns:[{title:"Name",field:"name"},{title:"Description",field:"description",cellStyle:{width:"400px",minWidth:"400px"},headerStyle:{width:"400px",minWidth:"400px"}},{title:"Last Edited Time",field:"pushedAt",render:function(e){return C()(e.pushedAt).fromNow()},defaultSort:"desc"}],title:"Documents",actions:[{icon:"edit",tooltip:"Edit",onClick:function(e,t){return r.push(g.APP_ROUTES.EDITOR(t.name))}},{icon:"delete",tooltip:"Delete Document",onClick:function(e,t){return n(t.name)}}],options:{actionsColumnIndex:-1,minBodyHeight:"75vh",maxBodyHeight:"75vh",paging:!1,draggable:!1,thirdSortClick:!1,searchFieldAlignment:"left",showTitle:!1,searchFieldStyle:{width:u>960?864:u-96},headerStyle:{backgroundColor:c.palette.primary.main}},components:{Container:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(le.a,{children:e.children.slice(0,3),style:Object(v.a)(Object(v.a)({},e.style),{},{backgroundColor:c.palette.primary.main}),elevation:4}),l.a.createElement(re.a,{mb:3}),l.a.createElement(le.a,{children:e.children.slice(3,e.children.length),style:e.style,elevation:4}))},Action:function(e){return"edit"===e.action.icon?l.a.createElement(ce.a,{onClick:function(t){return e.action.onClick(t,e.data)},color:"primary",size:"small",style:{margin:".5rem"}},l.a.createElement(z.a,{style:{color:"white"}})):"delete"===e.action.icon?l.a.createElement(ce.a,{onClick:function(t){return e.action.onClick(t,e.data)},size:"small",style:{margin:".5rem"}},l.a.createElement(oe.a,{style:{color:"#888888"}})):l.a.createElement(l.a.Fragment,null)}}}))})),ue=a(1666),de=a(52),pe=a.n(de),ge=a(190),fe=a.n(ge),be=function(e){ge.store.addNotification({message:e.message||"\u4f3a\u670d\u5668\u932f\u8aa4",type:"danger",insert:"top",container:"top-center",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3}})},he=a(111),Ee=a.n(he),xe=a(510),ye=a(1648),Oe=a(1653),ve=a(500),we=a(413),je=a(1659),ke=a(1657),Ce=a(1658),Se=a(511),Te=a(495),Ie=a(94),Re=a(507),Ne=function(e){var t=e.docInfo,a=e.setDocInfo,n=e.filename,o=function(e,n){a(Object(v.a)(Object(v.a)({},t),{},Object(Ie.a)({},e,n)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Oe.a,{container:!0,justify:"center"},l.a.createElement(Oe.a,{item:!0,container:!0,justify:"center",style:{width:"60%"},spacing:4},l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement(Re.a,{error:n.includes(t.name)||!t.name||t.name.includes(" "),helperText:n.includes(t.name)?"Repeated":t.name?t.name.includes(" ")?"cannot include space or special character":"":"cannot be empty",fullWidth:!0,value:t.name,onChange:function(e){return o("name",e.target.value)},label:"Name"})),l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement(Re.a,{fullWidth:!0,value:t.description,onChange:function(e){return o("description",e.target.value)},label:"Description"})))))},Pe=a(191),De=a(192),Ae=a(248),Le=a(195),Fe=a(194),_e=a(238),Be=(a(522),function(e){Object(Le.a)(a,e);var t=Object(Fe.a)(a);function a(e){return Object(Pe.a)(this,a),t.call(this,e)}return Object(De.a)(a,[{key:"render",value:function(){var e,t,a=this.props,n=a.src,o=a.isSelected,r=a.onImageClick,c=a.label;return l.a.createElement(re.a,null,l.a.createElement("div",{className:"responsive".concat(o?" selected":""),style:{marginBottom:"1rem"},onClick:r},l.a.createElement("img",{src:n,className:"thumbnail".concat(o?" selected":""),style:(e=150,t=150,{width:e,height:t,objectFit:"cover"})}),l.a.createElement("div",{className:"checked",style:{bottom:"25px"}},l.a.createElement("div",{className:"icon"})),l.a.createElement(h.a,{align:"center"},c)))}}]),a}(o.Component)),We=function(e){Object(Le.a)(a,e);var t=Object(Fe.a)(a);function a(e){var n;return Object(Pe.a)(this,a),(n=t.call(this,e)).state={picked:Object(_e.Map)()},n.handleImageClick=n.handleImageClick.bind(Object(Ae.a)(n)),n.renderImage=n.renderImage.bind(Object(Ae.a)(n)),n}return Object(De.a)(a,[{key:"handleImageClick",value:function(e){var t=this.props,a=t.multiple,n=t.onPick,o=a?this.state.picked:Object(_e.Map)(),l=o.has(e.value)?o.delete(e.value):o.set(e.value,e.src);this.setState({picked:l});var r=[];l.map((function(e,t){return r.push({src:e,value:t})})),n(a?r:r[0])}},{key:"renderImage",value:function(e,t,a){var n=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Be,{src:e.src,label:e.value.name,isSelected:e.value===t,onImageClick:function(){return n.handleImageClick(e)},key:a}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.images,n=t.currentValue;return l.a.createElement(Oe.a,{container:!0,justify:"center",className:"image_picker",spacing:4},l.a.createElement(Oe.a,{item:!0},a.map((function(t,a){return e.renderImage(t,n,a)}))))}}]),a}(o.Component),Ue=a(666),He=a.n(Ue),ze=a(426),Me=a.n(ze),qe=a(667),$e=a.n(qe),Xe=a(1663),Ze=[{pdf:"".concat("https://HoTszYanAnn.github.io/lattex","/pdf/beamer.pdf"),image:$e.a,name:"beamer",path:"beamer.tex",description:"default beamer(Madrid)",key:Object(Xe.a)()},{pdf:"".concat("https://HoTszYanAnn.github.io/lattex","/pdf/article.pdf"),image:He.a,name:"article",path:"default.tex",description:"default article",key:Object(Xe.a)()},{pdf:"".concat("https://HoTszYanAnn.github.io/lattex","/pdf/report.pdf"),image:Me.a,name:"report",path:"report.tex",description:"default report",key:Object(Xe.a)()},{pdf:"".concat("https://HoTszYanAnn.github.io/lattex","/pdf/book.pdf"),image:Me.a,name:"book",path:"book.tex",description:"default book",key:Object(Xe.a)()}],Ge=function(e){var t=e.template,a=e.setTemplate;return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{style:{height:"60vh",overflowY:"auto",overflowX:"hidden"}},l.a.createElement(We,{images:Ze.map((function(e){return{src:e.image,value:e}})),onPick:function(e){var t=e.value;return a(t)},currentValue:t})))},Ke=function(e){var t=e.template;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Oe.a,{container:!0,style:{height:"70vh"}},l.a.createElement(Oe.a,{xs:9},l.a.createElement(re.a,{style:{width:"100%",height:"85%",backgroundColor:"rgb(82, 86, 89)"}},l.a.createElement("iframe",{src:"".concat(t.pdf),style:{width:"100%",height:"100%",border:"none"}}))),l.a.createElement(Oe.a,{xs:2,align:"center"},l.a.createElement(h.a,{variant:"h5",gutterBottom:!0},"Template: ",t.name),l.a.createElement(re.a,{style:{height:"15%",width:"80%"}},l.a.createElement(h.a,{variant:"h6"},"Description: "),l.a.createElement(h.a,{variant:"body1"},t.description)))))},Ye=function(e){var t=e.template,a=e.setTemplate;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Oe.a,{container:!0,style:{height:"60vh"}},l.a.createElement(Oe.a,{xs:3},l.a.createElement(Ge,{template:t,setTemplate:a})),l.a.createElement(Oe.a,{xs:9},l.a.createElement(Ke,{template:t,key:t.key}))))},Ve=function(e){var t=e.docInfo,a=e.template;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Oe.a,{container:!0,style:{height:"60vh"},alignItems:"center",alignContent:"center"},l.a.createElement(Oe.a,{item:!0,xs:6,container:!0,justify:"center"},l.a.createElement(Oe.a,{item:!0,style:{maxWidth:"400px",width:"50%"}},l.a.createElement(h.a,{variant:"h5",align:"center",gutterBottom:!0}," Document Information "),l.a.createElement(h.a,null,"Name:"),l.a.createElement(h.a,{align:"right"},t.name),l.a.createElement(h.a,null,"Description:"),l.a.createElement(h.a,{align:"right"},t.decription?t.description:"N/A"))),l.a.createElement(Oe.a,{item:!0,xs:5,style:{height:"60vh"}},l.a.createElement(h.a,{variant:"h5",align:"center",gutterBottom:!0},"Chosen Template: ",a.name),l.a.createElement(re.a,{style:{width:"100%",height:"90%",backgroundColor:"rgb(82, 86, 89)"}},l.a.createElement("iframe",{src:"".concat(a.pdf),style:{width:"100%",height:"100%",border:"none"}})))))},Je=a(193),Qe=a.n(Je),et=Object(xe.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var tt=function(e){var t=e.open,a=e.setOpen,n=e.createDocument,r=e.createDocumentGqlLoading,c=e.filename,i=et(),s=Object(o.useState)({name:"",visibility:"PUBLIC",description:""}),u=Object(m.a)(s,2),d=u[0],p=u[1],g=Object(o.useState)(Ze[0]),f=Object(m.a)(g,2),b=f[0],E=f[1],x=Object(o.useState)(!0),y=Object(m.a)(x,2),O=y[0],v=y[1],w=l.a.useState(0),j=Object(m.a)(w,2),k=j[0],C=j[1],S=["Document Information","Select Template","Confirm"];return Object(o.useEffect)((function(){0===k&&(!d.name||c.includes(d.name)||d.name.includes(" ")?v(!0):v(!1)),1===k&&v(!b)}),[d,b,k]),l.a.createElement(l.a.Fragment,null,l.a.createElement(ye.a,{open:t,onClose:function(){return a(!1)},fullWidth:!0,maxWidth:"lg",disableBackdropClick:!0,disableEscapeKeyDown:!0},l.a.createElement(Oe.a,{container:!0,justify:"space-between",alignItems:"center"},l.a.createElement(Oe.a,{item:!0},l.a.createElement(h.a,{variant:"h5",style:{margin:"1.5rem 2rem"}},"Create Document")),l.a.createElement(Oe.a,{item:!0},l.a.createElement(ve.a,{title:"Cancel"},l.a.createElement(we.a,{size:"large",style:{margin:"0rem 1rem"},onClick:function(){return a(!1)}},l.a.createElement(Qe.a,null))))),l.a.createElement(je.a,{activeStep:k,alternativeLabel:!0},S.map((function(e){return l.a.createElement(ke.a,{key:e},l.a.createElement(Ce.a,null,e))}))),l.a.createElement("div",{style:{maxHeight:"70vh"}},0===k&&l.a.createElement(Ne,{docInfo:d,setDocInfo:p,filename:c}),1===k&&l.a.createElement(Ye,{template:b,setTemplate:E}),2===k&&l.a.createElement(Ve,{docInfo:d,template:b}),l.a.createElement(re.a,{my:4}),l.a.createElement(Oe.a,{container:!0,justify:"center"},l.a.createElement(Oe.a,{item:!0},l.a.createElement(Se.a,{disabled:0===k,onClick:function(){C((function(e){return e-1}))},className:i.backButton},"Back"),k===S.length-1?l.a.createElement(Se.a,{variant:"contained",color:"primary",onClick:function(){return n(d,b)},disabled:r},r?l.a.createElement(Te.a,{size:24}):"Finish"):l.a.createElement(Se.a,{variant:"contained",color:"primary",onClick:function(){C((function(e){return e+1}))},disabled:O},"Next"))),l.a.createElement(re.a,{my:4}))))};function at(){var e=Object(s.a)(["\n  mutation($name: String!) {\n    deleteDocument(name: $name){\n      id\n      name\n      description\n      pushedAt\n      createdAt\n      isPrivate\n    }\n  }\n"]);return at=function(){return e},e}function nt(){var e=Object(s.a)(["\n  mutation($input: DocumentCreateInput!, $path: String!) {\n    addDocument(input: $input, path: $path){\n      name\n    }\n  }\n"]);return nt=function(){return e},e}function ot(){var e=Object(s.a)(["\n  query {\n    documents {\n      id\n      name\n      description\n      pushedAt\n      createdAt\n      isPrivate\n    }\n  }\n"]);return ot=function(){return e},e}var lt=Ee()(ot()),rt=Ee()(nt()),ct=Ee()(at()),it=Object(xe.a)((function(e){return{fab:{position:"absolute",top:"150px",left:"112.5px",transform:"translate(-50%, -50%)",width:"180px"},extendedIcon:{fontSize:"32px !important",marginBottom:e.spacing.unit},button:{height:115},label:{flexDirection:"column",color:"#555555"}}})),mt=function(){var e=Object(d.g)(),t=it(),a=Object(o.useState)([]),n=Object(m.a)(a,2),r=n[0],c=n[1],i=Object(o.useState)([]),s=Object(m.a)(i,2),u=s[0],p=s[1],f=Object(o.useState)(!1),b=Object(m.a)(f,2),h=b[0],E=b[1],x=Object(ue.b)(lt,{onCompleted:function(e){c(e.documents),p(e.documents.map((function(e){return e.name})))},onError:be,fetchPolicy:"no-cache"}).loading,y=Object(ue.a)(rt,{onCompleted:function(t){console.log(t),t.addDocument.name&&e.push(g.APP_ROUTES.EDITOR(t.addDocument.name))},onError:be,fetchPolicy:"no-cache"}),O=Object(m.a)(y,2),v=O[0],w=O[1].loading,j=Object(ue.a)(ct,{onCompleted:function(e){c(e.deleteDocument),p(e.deleteDocument.map((function(e){return e.name})))},onError:be,fetchPolicy:"no-cache"}),k=Object(m.a)(j,2),C=k[0],S=k[1].loading;return l.a.createElement(l.a.Fragment,null,l.a.createElement(se,{documents:r,loading:x||S,deleteDocument:function(e){C({variables:{name:e}})}}),l.a.createElement(tt,{open:h,setOpen:E,createDocument:function(e,t){v({variables:{input:e,path:t.path}})},createDocumentGqlLoading:w,filename:u}),l.a.createElement(ce.a,{className:t.fab,variant:"extended",size:"large",onClick:function(){return E(!0)},classes:{root:t.button,label:t.label}},l.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-regular/36/555555/--add-document.png",className:t.extendedIcon}),"Add New Document"))},st=a(250),ut=function(e){var t=e.doc;e.key;return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{style:{width:"100%",height:"100%",backgroundColor:"rgb(82, 86, 89)"}},l.a.createElement("iframe",{src:"".concat("https://latexonline.cc","/compile?git=").concat(t.url,"&target=main.tex").concat(""),style:{width:"100%",height:"100%",border:"none"}})))},dt=a(680),pt=a.n(dt),gt=a(681),ft=a.n(gt),bt=a(163),ht=a(417),Et=a(418),xt=a(422),yt=a(498),Ot=a(509),vt=a(644),wt=["article","report","book","beamer"],jt=["title","date","author","always_today"],kt=function(e){e.doc,e.pushAndCompile;var t=e.setting,a=e.setSetting,n=Object(o.useState)(!1),r=Object(m.a)(n,2),c=(r[0],r[1]),i=function(e,n){if(jt.includes(e)){var o=Object(v.a)(Object(v.a)({},t.titles),{},Object(Ie.a)({},e,n));a(Object(v.a)(Object(v.a)({},t),{},{titles:o}))}else a(Object(v.a)(Object(v.a)({},t),{},Object(Ie.a)({},e,n)))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{display:"flex",style:{width:"30vw"}},l.a.createElement(re.a,{flexGrow:1}),l.a.createElement(ve.a,{title:"Close",placement:"top"},l.a.createElement(we.a,{onClick:function(){return c(!1)}},l.a.createElement(Qe.a,null)))),l.a.createElement(h.a,{variant:"h5",align:"center"},"Setting"),l.a.createElement(re.a,{style:{height:"50vh",padding:"2rem 5rem"}},l.a.createElement(Oe.a,{container:!0,spacing:4,alignItems:"flex-end"},l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement(ht.a,{fullWidth:!0},l.a.createElement(Et.a,null,"Document Type"),l.a.createElement(xt.a,{id:"setting-select-box",MenuProps:{id:"setting-select-box"},value:t.documentclass,onChange:function(e){return i("documentclass",e.target.value)}},wt.map((function(e){return l.a.createElement(yt.a,{value:e,key:e},e)}))))),l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement(Re.a,{label:"title",fullWidth:!0,value:t.titles.title,required:!0,onChange:function(e){return i("title",e.target.value)}})),l.a.createElement(Oe.a,{item:!0,xs:12},l.a.createElement(Re.a,{label:"author",fullWidth:!0,value:t.titles.author,onChange:function(e){return i("author",e.target.value)}})),l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement(Re.a,{label:"date",fullWidth:!0,disabled:t.titles.always_today,value:t.titles.date,onChange:function(e){return i("date",e.target.value)}})),l.a.createElement(Oe.a,{item:!0,xs:6},l.a.createElement(Ot.a,{control:l.a.createElement(vt.a,{checked:t.titles.always_today,onChange:function(e){return i("always_today",e.target.checked)}}),label:"Always 'Today'"})))))},Ct=a(1661),St=a(1660),Tt=a(670),It=a.n(Tt),Rt=a(671),Nt=a.n(Rt),Pt=function(e){var t=e.code;return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{style:{maxWidth:"30vw",marginLeft:"15px",backgroundColor:"rgb(43, 43, 43)",maxHeight:"50vh"},className:"latex-code-menu"},l.a.createElement(re.a,{display:"flex",style:{position:"sticky",top:0}},l.a.createElement(ve.a,{title:"Export as Tex",placement:"top"},l.a.createElement(we.a,{onClick:function(){var e=new File([t],"lattex.tex",{type:"text/plain;charset=utf-8"});It.a.saveAs(e)}},l.a.createElement(Nt.a,{style:{color:"#fff"}})))),l.a.createElement(re.a,{style:{margin:0,maxHeight:"calc(50vh - 48px)",overflowY:"auto"}},l.a.createElement(Ct.a,{language:"latex",showLineNumbers:!0,wrapLines:!0,style:St.a},t))))},Dt=a(675),At=a.n(Dt),Lt=function(e){var t=e.id,a=e.currentOpenWindow,n=e.handleOpenWindow,o=e.children,r=e.icon,c=a===t;return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{style:{position:"relative"}},l.a.createElement(ce.a,{onClick:function(){return n(t)},size:"medium",className:"toolbar-button".concat(c?" opened-toolbar-button":""),disableRipple:!0},r),l.a.createElement(re.a,{className:c?"opened-toolbar-button-menu-shape-white-up":""}),l.a.createElement(re.a,{className:c?"opened-toolbar-button-menu-shape-orange-up":""}),l.a.createElement(re.a,{className:c?"opened-toolbar-button-menu-shape-white-down":""}),l.a.createElement(re.a,{className:c?"opened-toolbar-button-menu-shape-orange-down":""}),l.a.createElement(re.a,{className:c?"opened-toolbar-button-menu-bridge":""})),l.a.createElement(re.a,{className:"toolbar-button-menu",style:{display:c?"block":"none"}},o))},Ft=a(299),_t=a.n(Ft),Bt=a(674),Wt=a.n(Bt),Ut=a(1655),Ht=a(517),zt=a(149),Mt=a(45),qt=a(673),$t=a.n(qt),Xt=a(691),Zt=(a(1472),Object(xe.a)((function(e){return{divider:{background:e.palette.primary.main}}}))),Gt=function(e){var t=e.label,a=e.onClick;return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,null,l.a.createElement(yt.a,{button:!0,onClick:a},t)))},Kt=function(e){var t=e.value,a=e.onChange;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Xt.a,{style:{width:"50px",marginTop:"3px"},value:t,onChange:a,defaultValue:3,required:!0,max:10,min:1,step:1}))},Yt=function(e){var t=e.name,a=e.items;return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{style:{padding:"8px"}},l.a.createElement(h.a,{variant:"h5",color:"primary"},t),l.a.createElement(Ut.a,{classes:{root:Zt().divider}}),l.a.createElement(re.a,{mb:2}),l.a.createElement(re.a,{style:{maxHeight:"calc(70vh - 30px - 32px - 1px - 16px)",overflowY:"auto"}},a)))},Vt=function(e){var t=e.setBox,a=e.handleClose,n=e.ntable,o=e.setNtable;return l.a.createElement(Yt,{name:"Text",items:l.a.createElement(l.a.Fragment,null,l.a.createElement(Gt,{onClick:function(){t(null),a(null)},label:"Paragraph Block"}),l.a.createElement(Gt,{onClick:function(){t("multicols-2",null),a(null)},label:"Multi-column Block"}),l.a.createElement(re.a,{display:"flex"},l.a.createElement(yt.a,{button:!0,onClick:function(){var e=function(e){for(var t="<p>(Optional) Caption<table><tbody>",a=0;a<e.nrow;a++){t+="<tr>";for(var n=0;n<e.ncol;n++)t+="<td><div></div></td>";t+="</tr>"}return t+="</tbody></table><p>(Optional) Caption</p>"}(n);t("table",e),a(null)},style:{width:"145px"}},"Table"),l.a.createElement(Kt,{value:n.nrow,onChange:function(e){o({nrow:e,ncol:n.ncol})}}),l.a.createElement(B.a,{fontSize:"small",style:{paddingTop:"6px"}}),l.a.createElement(Kt,{value:n.ncol,onChange:function(e){o({nrow:n.nrow,ncol:e})}})),Object.keys(Mt.htmlcode).map((function(e){return l.a.createElement(Gt,{onClick:function(){t(null,"".concat(Mt.htmlcode[e].codeStart).concat(Mt.htmlcode[e].codeEnd)),a(null)},label:Mt.htmlcode[e].name})})),l.a.createElement(re.a,{mb:2}),l.a.createElement(h.a,{variant:"body1",display:"inline"},"Numbered Section Title "),l.a.createElement("br",null),l.a.createElement(h.a,{variant:"body2",display:"inline"},"(included in the table of contents)"),l.a.createElement(Ut.a,null),Object.keys(Mt.dict).map((function(e){return l.a.createElement(Gt,{onClick:function(){t(e),a(null)},label:Mt.dict[e].name})})),l.a.createElement(re.a,{mb:2}),l.a.createElement(h.a,{variant:"body1",display:"inline"},"Unnumbered Section Title"),l.a.createElement("br",null),l.a.createElement(h.a,{variant:"body2",display:"inline"},"(excluded in the table of contents.)"),l.a.createElement(Ut.a,null),Object.keys(Mt.dict).map((function(e){return l.a.createElement(Gt,{onClick:function(){t("".concat(e,"*")),a(null)},label:Mt.dict[e].name})})))})},Jt=function(e){var t=e.setBox,a=e.handleClose;return l.a.createElement(Yt,{name:"Beamer",items:l.a.createElement(l.a.Fragment,null,l.a.createElement(Gt,{onClick:function(){t("end"),a(null)},label:"End"}),l.a.createElement(Ut.a,null),Object.keys(Mt.beamer).map((function(e){return l.a.createElement(Gt,{onClick:function(){t(e),a(null)},label:Mt.beamer[e].name})})))})},Qt=[{name:"Fraction",equation:"\\frac{x}{y} "},{name:"Script",equation:"x^y"},{name:"Radical",equation:"\\sqrt x"},{name:"Integral",equation:"\\int_{a}^{b}{x^2}dx"},{name:"Differential",equation:"\\frac{dx}{dy} 2x "},{name:"Summation",equation:"\\sum_{i=a}^{b} f(i)"},{name:"Product",equation:"\\prod_{i=a}^{b} f(i)"},{name:"Limit",equation:"\\lim_{x\\to\\infty} f(x)"}],ea=function(e){var t=e.setBox,a=e.handleClose;return l.a.createElement(Yt,{name:"Equation",items:l.a.createElement(l.a.Fragment,null,Qt.map((function(e){return l.a.createElement(Gt,{onClick:function(){t("[\\ ".concat(e.equation," \\]")),a(null)},label:l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,null,l.a.createElement(h.a,null,e.name),l.a.createElement(zt.MathpixLoader,null,l.a.createElement(zt.MathpixMarkdown,{text:"\\( ".concat(e.equation," \\)")}))))})})))})},ta=function(e){var t=e.setBox,a=e.handleClose;return l.a.createElement(Yt,{name:"Command",items:l.a.createElement(l.a.Fragment,null,l.a.createElement(Gt,{onClick:function(){t("maketitle"),a(null)},label:"Make Title"}),l.a.createElement(Gt,{onClick:function(){t("tableofcontents"),a(null)},label:"Table of Contents"}),l.a.createElement(Gt,{onClick:function(){t("hrule"),a(null)},label:"Divider"}),l.a.createElement(Gt,{onClick:function(){t("newpage"),a(null)},label:"New Page"}))})},aa=function(e){var t=e.setBox,a=e.handleClose,n=e.uploadImages,o=e.images,r=e.loading;return l.a.createElement(Yt,{name:"Images",items:l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{variant:"body1",display:"inline"},"Upload "),l.a.createElement(Ut.a,null),l.a.createElement($t.a,{withIcon:!0,buttonText:"Choose image",onChange:function(e){try{0==e.length&&r||function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){n({variables:{file_type:"jpg",base64:t.result}})},t.onerror=function(e){console.log("Error: ",e)}}(e[0])}catch(t){}},imgExtension:[".jpg",".png",".jpeg"],maxFileSize:1048576,singleImage:!0,label:"Max file size: 1mb, accepted: jpg|jpeg|png"}),r&&l.a.createElement(Ht.a,null),l.a.createElement(re.a,{mb:2}),l.a.createElement(h.a,{variant:"body1",display:"inline"},"Select "),l.a.createElement(Ut.a,null),o.map((function(e){return l.a.createElement(Gt,{onClick:function(){var n;t("figure",(n=e.name,"\\begin{figure}[h]\n  \\caption{}\n  \\centering\n  \\includegraphics[width=0.5\\textwidth]{".concat(n,"}\n  \\end{figure}"))),a(null)},label:l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:e.url,alt:e.name,style:{maxWidth:"250px"}}))})})))})},na=function(e){var t=e.setBox,a=e.handleClose,n=e.documentclass,r=e.images,c=e.uploadImages,i=e.loading,s=Object(o.useState)("text"),u=Object(m.a)(s,2),d=u[0],p=u[1],g=Object(o.useState)(Object(Xe.a)()),f=Object(m.a)(g,2),b=f[0],h=f[1],E=Object(o.useState)({nrow:3,ncol:3}),x=Object(m.a)(E,2),y=x[0],O=x[1],v=["text","equation","image","command"];return"beamer"===n&&v.splice(1,0,"beamer"),"report"!==n&&"book"!==n||(Mt.dict.chapter={name:"Chapter",left:"",size:"1.45rem",weight:"bold"}),"article"===n&&delete Mt.dict.chapter,Object(o.useEffect)((function(){h(Object(Xe.a)())}),[r]),l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{display:"table",style:{height:"100%",minHeight:"70vh"}},l.a.createElement(re.a,{display:"table-cell",className:"menu-leftside-box"},v.map((function(e){return l.a.createElement(Se.a,{key:e,onClick:function(){p(e)},style:{textTransform:"capitalize",color:"white"},className:d===e?"menu-leftside-button menu-leftside-button-active":"menu-leftside-button",disableRipple:!0},e)}))),l.a.createElement(re.a,{display:"table-cell",style:{verticalAlign:"top",minWidth:"300px",padding:"7px"}},l.a.createElement(re.a,{style:{display:"text"===d?"block":"none"}},l.a.createElement(Vt,{setBox:t,handleClose:a,ntable:y,setNtable:O})),l.a.createElement(re.a,{style:{display:"beamer"===d?"block":"none"}},l.a.createElement(Jt,{setBox:t,handleClose:a})),l.a.createElement(re.a,{style:{display:"equation"===d?"block":"none"}},l.a.createElement(ea,{setBox:t,handleClose:a})),l.a.createElement(re.a,{style:{display:"image"===d?"block":"none"},key:b},l.a.createElement(aa,{setBox:t,handleClose:a,images:r,uploadImages:c,loading:i})),l.a.createElement(re.a,{style:{display:"command"===d?"block":"none"}},l.a.createElement(ta,{setBox:t,handleClose:a})))))},oa=Object(xe.a)((function(e){return{toolBox:{alignItems:"center",flexDirection:"column"}}})),la=function(e){e.showCompiler,e.changeShowCompiler;var t=e.pushAndCompile,a=e.doc,n=e.setBox,r=e.setting,c=e.setSetting,i=(e.onSave,e.uploadImages),s=e.loading,u=(oa(),l.a.useState(!1)),d=Object(m.a)(u,2),p=d[0],g=d[1],f=l.a.useState(null),b=Object(m.a)(f,2),h=b[0],E=b[1],x=function(e){E(e===h?null:e)},y=function(){g(!1),E(null)};console.log(p);var O,v=Object(o.useRef)(null);return O=v,Object(o.useEffect)((function(){function e(e){if(O.current&&!O.current.contains(e.target)){var t;if(document.getElementsByClassName("MuiMenu-list")&&(null===(t=document.getElementsByClassName("MuiMenu-list")[1])||void 0===t?void 0:t.contains(e.target)))return;console.log("toolbar outsided!!!!!"),y()}}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[O]),l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{ref:v},l.a.createElement(re.a,{display:"block"},l.a.createElement(ve.a,{title:"ToolBar","aria-label":"ToolBar"},l.a.createElement(ce.a,{onClick:function(){g(!p),E(null)},size:"medium",color:"primary"},p?l.a.createElement(Qe.a,{style:{color:"white"}}):l.a.createElement(z.a,{style:{color:"white"}})))),l.a.createElement(re.a,{display:"block",my:2}),l.a.createElement(re.a,{display:"block"},l.a.createElement(Oe.a,{item:!0,container:!0,direction:"column",style:{display:p?"flex":"none"},alignItems:"center",spacing:3},l.a.createElement(Oe.a,{item:!0,key:"add-button"},l.a.createElement(re.a,{alignSelf:"flex-start"},l.a.createElement(Lt,{id:"add-button",key:"add-button",currentOpenWindow:h,handleOpenWindow:x,icon:l.a.createElement(_t.a,{style:{color:"add-button"===h?"white":"orange",fontSize:35}}),children:l.a.createElement(na,{setBox:n,handleClose:y,documentclass:a.latex.documentclass,images:a.latex.images,uploadImages:i,loading:s})}))),l.a.createElement(Oe.a,{item:!0,key:"setting-button"},l.a.createElement(re.a,{alignSelf:"flex-start"},l.a.createElement(Lt,{id:"setting-button",key:"setting-button",currentOpenWindow:h,handleOpenWindow:x,icon:l.a.createElement(Wt.a,{style:{color:"setting-button"===h?"white":"orange",fontSize:35}}),children:l.a.createElement(kt,{doc:a,pushAndCompile:t,handleClose:y,setting:r,setSetting:c})}))),l.a.createElement(Oe.a,{item:!0,key:"code-button"},l.a.createElement(re.a,{alignSelf:"flex-start"},l.a.createElement(Lt,{id:"code-button",key:"code-button",currentOpenWindow:h,handleOpenWindow:x,icon:l.a.createElement(At.a,{style:{color:"code-button"===h?"white":"orange",fontSize:35}}),children:l.a.createElement(Pt,{code:a.latex.latex_code,handleClose:y})})))))))},ra=function(e){var t=e.info,a=e.text,n=e.setText,o=e.id,r=(e.label,e.star),c=void 0!==r&&r;return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{className:"command-block"},l.a.createElement(re.a,{className:"command-block-label"},t.name," Title ",c&&"(unnumbered)"," "),l.a.createElement("input",{style:{fontSize:t.size,fontWeight:t.weight},onChange:function(e){return n(o,e.target.value)},value:a,className:"section-title-field",placeholder:"Write Here..."})))},ca=function(e){var t=e.text,a=e.label;return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{className:"command-block-label"},a||t),l.a.createElement("input",{readonly:!0,style:{textAlign:"center",caretColor:"transparent",cursor:"context-menu"},value:t,className:"section-title-field"}))},ia=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ut.a,{style:{position:"absolute",top:"50%",width:"calc(100% - 15px - 15px)",left:"15px"}}),l.a.createElement(ca,{text:"",label:"Divider Block"}))},ma=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ut.a,{style:{position:"absolute",top:"50%",width:"calc(100% - 15px - 15px)",left:"15px",light:!0,vairant:"middle"}}),l.a.createElement(ca,{text:"",label:"End Block"}))},sa={maketitle:"Title Block",tableofcontents:"Table of Contents Block",newpage:"New Page Block"},ua=function(e){var t=e.text;e.id;return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{className:"command-block"},sa[t]?l.a.createElement(ca,{text:sa[t].substring(0,sa[t].length-6),label:sa[t]}):"hrule"===t?l.a.createElement(ia,null):"end"===t?l.a.createElement(ma,null):l.a.createElement(ca,{text:t})))},da=a(48),pa=a.n(da),ga=(a(1561),a(427)),fa=a.n(ga),ba=function(e){var t=e.id,a=e.text,n=e.setText,r=e.htmlcode,c=void 0!==r&&r,i=e.multiCols,s=void 0!==i&&i,u=e.setCode,d=e.colsNum,p=Object(o.useState)(fa.a.createEditorState(a)),g=Object(m.a)(p,2),f=g[0],b=g[1],h=["separator",{key:"multi-cols-num-btn",type:"button",title:"Number of columns",text:"".concat(d),onClick:function(){u(t,"multicols-".concat(5===d?2:d+1))}}];return l.a.createElement(re.a,null,l.a.createElement(fa.a,{value:f,onChange:function(e){console.log(e.toHTML()),!c||e.toHTML().startsWith(c.codeStart)?b(e):b(pa.a.EditorState.undo(e))},controls:["undo","redo","remove-styles","clear","bold","italic","underline","superscript","subscript","link"],language:"en",className:"editor",placeholder:c?"":"Write Here...",onBlur:function(){n(t,f.toHTML())},extendControls:s?h:[]}))},ha=a(676),Ea=a(678),xa=a(428),ya=a.n(xa),Oa=function(e){var t=e.code,a=e.setCode,n=e.id,r=Object(o.useState)(t),c=Object(m.a)(r,2),i=c[0],s=c[1],u=Object(o.useState)(Object(Xe.a)()),d=Object(m.a)(u,2),p=d[0],g=d[1],f=Object(o.useState)(-1),b=Object(m.a)(f,2),h=b[0],E=b[1];Object(o.useEffect)((function(){Object(xa.forceCheck)()}),[h]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{className:"equation-block",textAlign:"center"},l.a.createElement(re.a,{className:"equation-block-content",onBlur:function(e){a(n,"["+i+"\\]")},key:p},l.a.createElement(ha.a,{value:i,onChange:function(e){s(e)},autoCommands:"pi theta sqrt sum prod alpha beta gamma rho",autoOperatorNames:"sin cos tan"})),l.a.createElement(re.a,{className:"equation-block-tool-bar"},Ea.equationTools.map((function(e,t){return l.a.createElement(Se.a,{className:"equation-block-tool-bar-button-box control-item button",disableRipple:!0,"data-title":e.title,onMouseEnter:function(){E(t)},onMouseLeave:function(){E(-1)}},l.a.createElement(zt.MathpixLoader,null,l.a.createElement(re.a,{className:"latex-equation-display-button"},l.a.createElement(zt.MathpixMarkdown,{text:"\\( ".concat(e.code," \\)"),display:"inline-block",className:"latex-equation-display-button"}))),l.a.createElement(re.a,{style:{display:h===t?"block":"none"},className:"equation-block-tool-bar-submenu"},e.buttonArray.map((function(e){return l.a.createElement(Se.a,{className:"control-item button",disableRipple:!0,"data-title":e.title,onClick:function(){return t=e.code,s(i+" "+t),a(n,"["+i+t+"\\]"),void g(Xe.a);var t}},l.a.createElement(ya.a,{height:200},l.a.createElement(zt.MathpixLoader,null,l.a.createElement(re.a,{className:"latex-equation-display-button"},l.a.createElement(zt.MathpixMarkdown,{text:"\\( ".concat(e.code," \\)"),display:"inline-block",className:"latex-equation-display-button"})))))}))))})))))},va=function(e){var t=e.menu,a=e.setOpenMenu,n=e.setCloseMenu,o=e.captionIndex,r=e.removeCaption,c=e.addCaption,m=e.changeCaptionPosition,s=e.captionTop,u=Object(i.a)(e,["menu","setOpenMenu","setCloseMenu","captionIndex","removeCaption","addCaption","changeCaptionPosition","captionTop"]);return l.a.createElement(re.a,u,l.a.createElement(Se.a,{className:"equation-block-tool-bar-button-box control-item button",disableRipple:!0,"data-title":"Caption",onMouseEnter:function(){return a("caption")},onMouseLeave:function(){return n("caption")}},l.a.createElement(re.a,{className:"latex-image-display-button"},-1===o?l.a.createElement("img",{src:"https://img.icons8.com/windows/20/6a6f7b/no-chat-message.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}):l.a.createElement("img",{src:"https://img.icons8.com/windows/20/6a6f7b/chat-message.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}})),l.a.createElement(re.a,{style:{display:"caption"===t?"block":"none"},className:"image-block-tool-bar-submenu"},l.a.createElement(Se.a,{className:"control-item button",disableRipple:!0,"data-title":"Have Caption?",onClick:function(){return-1!==o?r():c()}},l.a.createElement(re.a,{className:"latex-equation-display-button"},-1===o?l.a.createElement("img",{src:"https://img.icons8.com/windows/20/6a6f7b/no-chat-message.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}):l.a.createElement("img",{src:"https://img.icons8.com/windows/20/6a6f7b/chat-message.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))),l.a.createElement(Se.a,{className:"control-item button",disableRipple:!0,"data-title":"Caption Place?",onClick:m,disabled:-1===o},l.a.createElement(re.a,{className:"latex-equation-display-button"},s?l.a.createElement("img",{src:"https://img.icons8.com/material-outlined/20/6a6f7b/align-cell-content-top.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}):l.a.createElement("img",{src:"https://img.icons8.com/material-outlined/20/6a6f7b/align-cell-content-bottom.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))))))},wa=function(e){var t=e.images,a=e.id,n=(e.code,e.text),r=e.setText,c=t.find((function(e){return n.includes(e.name)})),i=Object(o.useState)(""),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(o.useState)(null),g=Object(m.a)(p,2),f=g[0],b=g[1],h=n.split("\\").filter((function(e){return 0!=e.length})),E=h.findIndex((function(e){return e.startsWith("textwidth]{")}));-1!==E&&(h[E-1]=h[E-1]+"\\"+h[E],h.splice(E,1)),h[0].startsWith("\\")||h.forEach((function(e,t){h[t]="\\"+e}));var x=h.findIndex((function(e){return e.startsWith("\\includegraphics")})),y=h.findIndex((function(e){return e.startsWith("\\centering")||e.startsWith("\\raggedright")||e.startsWith("\\raggedleft")})),O=h[x].split("width=")[1].substring(0,3).startsWith("1")?1:h[x].split("width=")[1].substring(0,3),v=h.findIndex((function(e){return e.startsWith("\\caption{")})),w=x>v,j=function(e){h[v]="\\caption{".concat(e.target.value,"}"),r(a,h.join("\r\n"))},k=function(e){if(y)h[y]="\\".concat(e);else h.splice(1,0,"\\${val}");r(a,h.join("\r\n"))};Object(o.useEffect)((function(){-1!==v&&d(h[v].split(/{|}/)[1])}),[n]);var C=function(e){b(e)},S=function(e){b(null)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{className:"image-block",py:2},l.a.createElement(re.a,null,l.a.createElement("input",{className:"image-block-input",placeholder:"Caption...",value:u,onChange:function(e){return d(e.target.value)},onBlur:j,style:{display:-1===v?"none":w?"block":"none",textAlign:"center",width:"100%",backgroundColor:"transparent",fontSize:"15px",padding:"5px 0"}}),l.a.createElement("input",{className:"image-block-input",readonly:!0,style:{textAlign:"center",caretColor:"transparent",cursor:"context-menu",background:"url(".concat(c.url,") no-repeat top"),backgroundSize:"contain",backgroundPosition:"".concat(h[y].startsWith("\\raggedright")?"left":h[y].startsWith("\\centering")?"center":"right"),width:"calc(100% - 5px)",paddingBottom:"".concat(100*O*.8,"%")}}),l.a.createElement("input",{className:"image-block-input",placeholder:"Caption...",value:u,onChange:function(e){return d(e.target.value)},onBlur:j,style:{display:-1===v||w?"none":"block",textAlign:"center",width:"100%",backgroundColor:"transparent",fontSize:"15px",padding:"5px 0"}})),l.a.createElement(re.a,{className:"image-block-tool-bar"},l.a.createElement(va,{menu:f,setOpenMenu:C,setCloseMenu:S,captionIndex:v,removeCaption:function(e){if(-1!==v){h.splice(v,1);r(a,h.join("\r\n"))}},addCaption:function(e){if(-1===v){h.splice(1,0,"\\caption{}");r(a,h.join("\r\n"))}},changeCaptionPosition:function(){if(-1!==v){var e=h[v];h.splice(v,1),w?h.splice(-1,0,e):h.splice(1,0,e),r(a,h.join("\r\n"))}},captionTop:w}),l.a.createElement(Se.a,{className:"equation-block-tool-bar-button-box control-item button",disableRipple:!0,"data-title":"Image Align",onMouseEnter:function(){return C("imageAlign")},onMouseLeave:S},l.a.createElement(re.a,{className:"latex-image-display-button"},l.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-regular/20/6a6f7b/align-left.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}})),l.a.createElement(re.a,{style:{display:"imageAlign"===f?"block":"none"},className:"image-block-tool-bar-submenu"},l.a.createElement(Se.a,{className:h[y].startsWith("\\raggedright")?"control-item button active":"control-item button",disableRipple:!0,"data-title":"Align Left",onClick:function(){return k("raggedright")}},l.a.createElement(re.a,{className:"latex-equation-display-button"},l.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-regular/20/6a6f7b/align-left.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))),l.a.createElement(Se.a,{className:h[y].startsWith("\\centering")?"control-item button active":"control-item button",disableRipple:!0,"data-title":"Align Center",onClick:function(){return k("centering")}},l.a.createElement(re.a,{className:"latex-equation-display-button"},l.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-regular/20/6a6f7b/align-center.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))),l.a.createElement(Se.a,{className:h[y].startsWith("\\raggedleft")?"control-item button active":"control-item button",disableRipple:!0,"data-title":"Align Right",onClick:function(){return k("raggedleft")}},l.a.createElement(re.a,{className:"latex-equation-display-button"},l.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-regular/20/6a6f7b/align-right.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))))),l.a.createElement(Se.a,{className:"equation-block-tool-bar-button-box control-item button",disableRipple:!0,"data-title":"Line Width ".concat(O),onClick:function(){return function(){console.log(h),console.log(O);var e=parseFloat(O)+.1;e>1&&(e=.1),e=Math.round(10*e)/10,h[x]=h[x].replace(O,e),r(a,h.join("\r\n"))}()}},l.a.createElement(re.a,{className:"latex-image-display-button"},l.a.createElement("img",{src:"https://img.icons8.com/material-outlined/20/6a6f7b/resize.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))))))},ja=a(679),ka=a.n(ja),Ca=(a(1576),function(e){var t=e.id,a=e.text,n=e.setText,r=Object(o.useState)(a),c=Object(m.a)(r,2),i=c[0],s=c[1];return l.a.createElement(re.a,null,l.a.createElement(ka.a,{height:"auto",setContents:i,onChange:function(e){console.log(e),s(e)},autoFocus:!1,language:"en",className:"editor",onBlur:function(e){console.log("blur"),console.log(e.target.innerHTML),n(t,e.target.innerHTML)},setOptions:{mode:"balloon-always",buttonList:[["undo","redo","table"]]}}))}),Sa=function(e){var t=e.id,a=e.text,n=e.setText,o=e.code,r=e.setCode,c=parseInt(o.split("-")[1]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{className:"command-block"},l.a.createElement(re.a,{className:"command-block-label"},"Mutiple Columns - ",c),l.a.createElement(ba,{key:t+"content",text:a,setText:n,id:t,multiCols:!0,colsNum:c,setCode:r})))},Ta=Object(xe.a)((function(e){return{toolbar:{position:"fixed",top:"60px",left:"10px",zIndex:999}}})),Ia=function(e){var t=e.doc,a=e.showCompiler,n=e.changeShowCompiler,r=e.pushAndCompile,c=e.updateDocument,i=e.width,s=(e.setDoc,e.uploadImages),u=e.loading,d=Ta(),p=pe()(t.latex).pick(["contents"]).value().contents,g=pe()(t.latex).pick(["haveTitle","haveContentPage","titles","documentclass"]).value(),f=Object(o.useState)(g),b=Object(m.a)(f,2),h=b[0],E=b[1],x=Object(o.useState)(p),y=Object(m.a)(x,2),O=y[0],w=y[1],j=function(e,t){if(O[e].text!==t){var a=pe.a.cloneDeep(O);a[e].text=t,w(a)}},k=function(e,t){if(O[e].code!==t){var a=pe.a.cloneDeep(O);a[e].code=t,w(a)}},C=function(e){return ge.store.addNotification({message:e,type:"danger",insert:"top",container:"top-center",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3}}),!1},S=function(){if(function(e,t){console.log("checking..."),console.log(t);var a=["begin{frame}","begin{block}","begin{alertblock}","begin{exampleblock}"];switch(e){case"article":for(var n=0;n<t.length;n++){if("chapter"===t[n].code)return C("Chapter Used In Article");if(a.includes(t[n].code))return C("Beamer Frame Used In Article, Please Remove It")}return!0;case"report":for(n=0;n<t.length;n++)if(a.includes(t[n].code))return C("Beamer Frame Used In Report, Please Remove It");return!0;case"book":for(n=0;n<t.length;n++)if(a.includes(t[n].code))return C("Beamer Frame Used In Book, Please Remove It");return!0;case"beamer":var o=0,l=a;for(n=0;n<t.length;n++)if(l.includes(t[n].code)&&o++,"end"===t[n].code&&--o<0)return C("End Block Put Wrong Places");return 0==o||C("End Block Missed")}return C("UnExpected")}(h.documentclass,O)){var e=function(e,t){var a={};for(var n in t)pe.a.isEqual(e[n],t[n])||(a[n]=e[n]);return a}(h,g);pe.a.isEmpty(e)?r({contents:O}):r(Object(v.a)(Object(v.a)({},e),{},{contents:O}))}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{className:d.toolbar},l.a.createElement(la,{showCompiler:a,changeShowCompiler:n,pushAndCompile:r,doc:t,updateDocument:c,setBox:function(e,t){var a=pe.a.cloneDeep(O);a.push({id:Object(Xe.a)(),code:e,text:t||""}),w(a)},setting:h,setSetting:E,onSave:S,uploadImages:s,loading:u})),l.a.createElement(re.a,{style:{position:"absolute",top:60,left:a?["xs","sm","md"].includes(i)?"calc(100vw - 10px - 16px)":"calc(50vw - 10px - 16px)":"calc(100vw - 10px - 16px)",transform:"translateX(-100%)",zIndex:500}},l.a.createElement(ve.a,{title:"Recompile","aria-label":"Recompile",placement:"top"},l.a.createElement(ce.a,{size:"medium",onClick:S,color:"primary"},l.a.createElement(pt.a,{style:{color:"white"}})))),l.a.createElement(re.a,{style:{overflowY:"scroll",height:"100%"}},l.a.createElement(re.a,{style:{boxSizing:"border-box",padding:"1.5em",margin:"2em",background:"white",minHeight:"calc(100% - 3em)",width:"calc(100% - 3em - 16px)"}},l.a.createElement(bt.DragDropContext,{onDragEnd:function(e){var t=e.source,a=e.destination;e.draggableId;if(a){var n=pe.a.cloneDeep(O),o=n.splice(t.index,1),l=Object(m.a)(o,1)[0];n.splice(a.index,0,l),w(n)}}},l.a.createElement(bt.Droppable,{droppableId:"d"},(function(e){return l.a.createElement(re.a,Object.assign({ref:e.innerRef},e.droppableProps),O.map((function(e,a){return l.a.createElement(bt.Draggable,{draggableId:a.toString(),index:a},(function(n){return l.a.createElement(re.a,Object.assign({ref:n.innerRef},n.draggableProps,{key:e.id+"box",className:"editor-big-block"}),l.a.createElement(re.a,Object.assign({},n.dragHandleProps,{className:"editor-block-handler"}),l.a.createElement(ft.a,null)),l.a.createElement("button",{onClick:function(){return function(e){var t=pe.a.cloneDeep(O);t.splice(e,1),w(t)}(a)},className:"editor-block-deleter"},l.a.createElement(oe.a,null)),e.code?Mt.beamer[e.code]?l.a.createElement(ra,{key:e.id+"title",info:Mt.beamer[e.code],text:e.text,setText:j,id:a}):Mt.beamer[e.code.slice(0,-1)]?l.a.createElement(ra,{key:e.id+"title",info:Mt.beamer[e.code.slice(0,-1)],star:!0,text:e.text,setText:j,id:a}):Mt.dict[e.code]?l.a.createElement(ra,{key:e.id+"title",info:Mt.dict[e.code],text:e.text,setText:j,id:a}):Mt.dict[e.code.slice(0,-1)]||Mt.beamer[e.code.slice(0,-1)]?l.a.createElement(ra,{key:e.id+"title",info:Mt.dict[e.code.slice(0,-1)],star:!0,text:e.text,setText:j,id:a}):e.code.startsWith("[")&&e.code.endsWith("]")?l.a.createElement(Oa,{key:e.id+"equationBlk",code:e.code.slice(1,-2),setCode:k,id:a}):"figure"===e.code?l.a.createElement(wa,{key:e.id+"image",text:e.text,setText:j,id:a,images:t.latex.images}):"table"===e.code?l.a.createElement(Ca,{key:e.id+"table",text:e.text,setText:j,id:a}):e.code.startsWith("multicols")?l.a.createElement(Sa,{key:e.id+"multiColsBlk",text:e.text,id:a,setText:j,code:e.code,setCode:k}):l.a.createElement(ua,{key:e.id+"cmdBlk",text:e.code,id:a}):pe.a.findKey(Mt.htmlcode,(function(t){return e.text.startsWith(t.codeStart)}))?l.a.createElement(ba,{key:e.id+"content",text:e.text,setText:j,id:a,htmlcode:Mt.htmlcode[pe.a.findKey(Mt.htmlcode,(function(t){return e.text.startsWith(t.codeStart)}))]}):l.a.createElement(ba,{key:e.id+"content",text:e.text,setText:j,id:a}))}))})))}))))))},Ra=a(682),Na=a(308),Pa=function(e){var t=e.loading,a=Object(b.a)();return console.log(t),l.a.createElement(Na.Spring,{native:!0,from:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100vw",height:"100vh",backgroundColor:a.palette.primary.main,zIndex:9999,position:"fixed",opacity:1},to:t?{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100vw",height:"100vh",backgroundColor:a.palette.primary.main,zIndex:9999,position:"fixed",opacity:1}:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"0vw",height:"0vh",backgroundColor:a.palette.primary.main,zIndex:-9999,position:"fixed",opacity:0},toggle:t},(function(e){return l.a.createElement(Na.animated.div,{style:e},l.a.createElement(Ra.WaveTopBottomLoading,{color:"white"}))}))},Da=a(685),Aa=a.n(Da),La=a(686),Fa=a.n(La);function _a(){var e=Object(s.a)(["\n    mutation($repo_name: String!, $name: String!, $file_type: String!, $base64: String!){\n      uploadImage(input: {repo_name: $repo_name, name: $name, file_type: $file_type, base64: $base64}){\n        url\n        name\n      }\n    }\n"]);return _a=function(){return e},e}function Ba(){var e=Object(s.a)(["\n  ","\n  mutation($name: String!, $input: LaTeXDocUpdateInput!) {\n    document(name: $name) {\n      updateLaTeX(input: $input){\n        ...DocumentFragment\n      }\n    }\n  }\n"]);return Ba=function(){return e},e}function Wa(){var e=Object(s.a)(["\n  ","\n  query($name: String!) {\n    document(name: $name) {\n      ...DocumentFragment\n    }\n  }\n"]);return Wa=function(){return e},e}function Ua(){var e=Object(s.a)(["\n  fragment DocumentFragment on Document {\n    id\n    name\n    description\n    pushedAt\n    createdAt\n    isPrivate\n    url\n    latex {\n      documentclass\n      titles {\n        title\n        author\n        date\n        always_today\n      }\n      setting {\n        fontSize\n        lineHeight\n        firstLineIndentation\n      }\n      contents {\n        id\n        code\n        text\n      }\n      images {\n        name \n        url\n      }\n      latex_code\n    }\n  }\n"]);return Ua=function(){return e},e}var Ha=Ee()(Ua()),za=Ee()(Wa(),Ha),Ma=Ee()(Ba(),Ha),qa=Object(xe.a)((function(e){return{toolbar:{height:"50px",position:"fixed",top:"50px",zIndex:9999},editor:{height:"calc(100vh - 50px)",backgroundColor:"#efefef"},compiler:{height:"calc(100vh - 50px)",backgroundColor:"grey"}}})),$a=Ee()(_a()),Xa=Object(p.c)((function(e){return{USER_PROFILE:e.USER_PROFILE}}))(Object(ie.a)()((function(e){var t=e.width,a=e.match,n=qa(),r=Object(o.useState)(!["xs","sm","md"].includes(t)),c=Object(m.a)(r,2),i=c[0],s=c[1],u=Object(o.useState)(null),d=Object(m.a)(u,2),p=d[0],g=d[1],f=Object(o.useState)(Object(Xe.a)()),b=Object(m.a)(f,2),h=b[0],E=b[1],x=Object(o.useState)(!0),y=Object(m.a)(x,2),O=y[0],w=y[1],j=a.params,k=(Object(ue.b)(za,{onCompleted:function(e){console.log(e),g(e.document),w(!1)},onError:be,variables:{name:j.id},fetchPolicy:"no-cache"}).loading,Object(ue.a)(Ma,{onCompleted:function(e){console.log(e),g(e.document.updateLaTeX),E(Object(Xe.a)()),w(!1)},onError:be,variables:{name:j.id},fetchPolicy:"no-cache"})),C=Object(m.a)(k,2),S=C[0],T=(C[1].loading,function(){s(!i)}),I=Object(ue.a)($a,{onCompleted:function(e){console.log(p),g(Object(v.a)(Object(v.a)({},p),{},{latex:Object(v.a)(Object(v.a)({},p.latex),{},{images:[].concat(Object(st.a)(p.latex.images),[e.uploadImage])})}))},onError:be,variables:{repo_name:j.id,name:Object(Xe.a)()},fetchPolicy:"no-cache"}),R=Object(m.a)(I,2),N=R[0],P=R[1].loading;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Pa,{loading:O}),!O&&l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{style:{position:"absolute",top:"calc(60px + 48px + 16px)",left:i?["xs","sm","md"].includes(t)?"calc(100vw - 10px - 16px)":"calc(50vw - 10px - 16px)":"calc(100vw - 10px - 16px)",transform:"translateX(-100%)",zIndex:500}},l.a.createElement(ve.a,{title:"Show Compiler?","aria-label":"Show Compiler?",placement:"top"},l.a.createElement(ce.a,{size:"medium",color:"primary",onClick:T},i?l.a.createElement(Aa.a,{style:{color:"white"}}):l.a.createElement(Fa.a,{style:{color:"white"}})))),l.a.createElement(Oe.a,{container:!0},l.a.createElement(Oe.a,{item:!0,xs:12,lg:i?6:12,className:n.editor,style:{display:i&&["xs","sm","md"].includes(t)?"none":"block"}},l.a.createElement(Ia,{doc:p,showCompiler:i,changeShowCompiler:T,pushAndCompile:function(e){console.log(e),w(!0),S({variables:{input:e}})},updateDocument:S,width:t,uploadImages:N,loading:P})),l.a.createElement(Oe.a,{item:!0,xs:12,lg:6,className:n.compiler,style:{display:i?"block":"none"}},l.a.createElement(ut,{doc:p,key:h})))))}))),Za=a(2),Ga=a(1654),Ka=a(432),Ya=(Object(xe.a)((function(e){return{section:{paddingTop:"0.3rem",textAlign:"center"},footer:{height:"25px",width:"100%",backgroundColor:"#ffe7bd",position:"sticky",bottom:"0px"}}})),a(197)),Va=a.n(Ya),Ja=a(323),Qa=a(1665),en=a(297),tn=a(1664),an="SET_TOKEN",nn="LOGIN",on="UPDATE_PROFILE",ln="LOADING",rn="ERROR",cn="HIDE_ERROR",mn="LOGOUT",sn=function(){return{type:mn}},un=a(687),dn=a.n(un),pn=Object(xe.a)((function(e){return{header:{height:"50px",width:"100%",position:"fixed",top:0,boxShadow:"0 2px 5px 0 rgba(184,134,11,.3)",zIndex:1200}}})),gn=function(e){var t=e.USER_PROFILE,a=e.client,n=e.dispatch,o=l.a.useState(null),r=Object(m.a)(o,2),c=r[0],i=r[1],s=Boolean(c),u=function(){var e=Object(Ja.a)(Va.a.mark((function e(){return Va.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("lattex-token"),e.next=3,a.stop();case 3:return e.next=5,a.clearStore();case 5:n(sn());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement(Se.a,{size:"small",onClick:function(e){i(e.currentTarget)},startIcon:l.a.createElement(Qa.a,{src:t.avatarUrl})},t.name),l.a.createElement(en.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:function(){i(null)}},l.a.createElement(yt.a,{button:!0,onClick:u,zIndex:"2000"},l.a.createElement(h.a,{color:"inherit"},"logout"))))},fn=Object(p.c)((function(e){return{AUTHORIZED:e.AUTHORIZED,USER_PROFILE:e.USER_PROFILE}}))(Object(tn.a)(Object(d.h)((function(e){var t=e.AUTHORIZED,a=e.USER_PROFILE,n=e.client,o=e.dispatch,r=pn(),c=Object(b.a)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{className:r.header,style:{background:c.palette.primary.opposite}},l.a.createElement(re.a,{display:"flex",style:{padding:"0 30px",height:"100%",alignItems:"center"}},l.a.createElement(u.b,{to:g.APP_PATHS.EDITORS,style:{height:"70%"}},l.a.createElement("img",{src:dn.a,height:"100%"})),l.a.createElement(re.a,{flexGrow:1}),t?l.a.createElement(gn,{USER_PROFILE:a,client:n,dispatch:o}):l.a.createElement(l.a.Fragment,null))))})))),bn=a(300),hn=a.n(bn),En=Object(xe.a)((function(e){return{button:{backgroundColor:"#000000",color:"white",writingMode:"vertical-rl",textOrientation:"sideways",transform:"rotate(-180deg)"},text:{display:"grid",alignItems:"center",flexDirection:"column"}}})),xn=function(){var e=En(),t=["user","repo","delete_repo"].join(",");return l.a.createElement(Se.a,{variant:"contained",className:e.button,href:"https://github.com/login/oauth/authorize?client_id=".concat("91ba4217f7895ed7e855","&redirect_uri=").concat("https://HoTszYanAnn.github.io/lattex","&scope=").concat(t)},l.a.createElement("span",{className:e.text},l.a.createElement(hn.a,{style:{transform:"rotate(90deg)"},fontSize:"small"})),l.a.createElement(re.a,{mb:1}),l.a.createElement("span",null,"Login with Github"))},yn=Object(xe.a)((function(e){return{button:{backgroundColor:"#000000",color:"white",display:"grid",alignItems:"center",justifyContent:"center",padding:"1rem 0"},grid:{display:"grid",alignItems:"center",justifyContent:"center"},text:{writingMode:"vertical-rl",textOrientation:"sideways",transform:"rotate(180deg)"}}})),On=function(){var e=yn(),t=Object(d.g)();return l.a.createElement(Se.a,{variant:"contained",className:e.button,onClick:function(){return t.push(g.APP_ROUTES.EDITORS)}},l.a.createElement("span",{className:e.text}," Goto Editor"),l.a.createElement(re.a,{mb:1}),l.a.createElement("span",{className:e.grid},l.a.createElement(z.a,{fontSize:"small",style:{transform:"rotate(-90deg)"}})))},vn=Object(p.c)((function(e){return{AUTHORIZED:e.AUTHORIZED,USER_PROFILE:e.USER_PROFILE}}))((function(e){var t=e.AUTHORIZED;return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{style:{zIndex:999,position:"fixed",top:"50%",left:0,transform:"translate(0, -50%)"}},t?l.a.createElement(On,null):l.a.createElement(xn,null)))})),wn=Object(xe.a)((function(e){return{footer:{height:"50px",width:"calc(100vw - 100px)",backgroundColor:"#ffffff",position:"fixed",bottom:"0px",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center"}}})),jn=function(){var e=wn(),t=Object(b.a)();return l.a.createElement(re.a,{display:"flex",className:e.footer,style:{background:t.palette.primary.opposite}},"2020/2021 CUHK CSE FYP MHW2003")},kn=a(688),Cn=a.n(kn),Sn=Object(xe.a)((function(e){return{header:{width:"calc(100vw - 100px - 16px)",height:"50px",position:"fixed",top:0,zIndex:1}}})),Tn=Object(p.c)((function(e){return{AUTHORIZED:e.AUTHORIZED,USER_PROFILE:e.USER_PROFILE}}))(Object(tn.a)(Object(d.h)((function(e){e.AUTHORIZED,e.USER_PROFILE,e.client,e.dispatch;var t=Sn(),a=Object(b.a)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{display:"flex",className:t.header,style:{background:a.palette.primary.opposite}},l.a.createElement(h.a,{variant:"h4",component:u.b,to:g.APP_PATHS.HOME,style:{textDecoration:"none"},color:"black"},l.a.createElement("img",{src:Cn.a,height:"100%"})),l.a.createElement(re.a,{flexGrow:1})))})))),In=a(1627),Rn=a(1621),Nn=a(515),Pn=Object(xe.a)((function(e){return{box:{backgroundColor:e.palette.primary.main},nested:{paddingLeft:e.spacing(4),color:"white"},item:{color:"white"},divider:{background:"white"},extendedIcon:{marginRight:e.spacing(2)}}})),Dn=function(){var e=Pn();return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{my:18})," ",l.a.createElement(Ut.a,{variant:"middle",classes:{root:e.divider}}),l.a.createElement(re.a,null,l.a.createElement(In.a,{component:"nav","aria-label":"secondary mailbox folders"},l.a.createElement(Rn.a,{button:!0,className:e.item},l.a.createElement(Nn.a,{primary:"My Document"}))),l.a.createElement(Ut.a,{variant:"middle",classes:{root:e.divider}})))},An=Object(Ka.a)((function(e){return{root:{paddingTop:"50px",height:"calc(100vh - 50px)",width:"100vw"},paddingTop:{paddingTop:e.spacing(2)},paddingBottom:{paddingBottom:e.spacing(2)},noPaddingX:{paddingLeft:0,paddingRight:0}}})),Ln=function(e){var t,a=e.children,n=e.layoutComponent,o=void 0===n?re.a:n,r=(e.layoutMaxWidth,e.layoutPaddingTop,e.layoutPaddingBottom,e.noPaddingX),c=void 0!==r&&r,i=An();return l.a.createElement(l.a.Fragment,null,l.a.createElement(fn,null),l.a.createElement(Ga.a,{component:o,maxWidth:!1,className:Object(Za.a)((t={},Object(Ie.a)(t,i.root,!0),Object(Ie.a)(t,i.noPaddingX,c),t))},a))},Fn=function(e){var t=e.children;return l.a.createElement(Ln,{layoutMaxWidth:!1,layoutPaddingTop:!1,layoutPaddingBottom:!1,noPaddingX:!0},t)},_n=function(e){var t=e.children,a=e.layoutComponent,n=(void 0===a&&re.a,e.layoutMaxWidth,e.layoutPaddingTop,e.layoutPaddingBottom,e.noPaddingX,An(),Object(b.a)());return l.a.createElement(l.a.Fragment,null,l.a.createElement(re.a,{style:{width:"calc(100vw - 100px - 16px)",padding:"0 50px"}},l.a.createElement(Tn,null),l.a.createElement(vn,null),l.a.createElement(re.a,{style:{width:"50px",height:"100vh",left:0,position:"fixed",backgroundColor:n.palette.primary.opposite,zIndex:500}}),t,l.a.createElement(re.a,{style:{width:"50px",height:"100vh",right:16,position:"fixed",backgroundColor:n.palette.primary.opposite,zIndex:999}}),l.a.createElement(jn,null)))},Bn=function(e){var t,a=e.children,n=e.layoutComponent,o=void 0===n?re.a:n,r=e.layoutMaxWidth,c=void 0===r?"md":r,i=e.layoutPaddingTop,m=void 0===i||i,s=e.layoutPaddingBottom,u=void 0===s||s,d=e.noPaddingX,p=void 0!==d&&d,g=An(),f=Object(b.a)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(fn,null),l.a.createElement(re.a,{style:{whiteSpace:"nowrap"}},l.a.createElement(re.a,{display:"inline-block",style:{width:225,height:"calc(100vh - 100px)",paddingTop:"100px",verticalAlign:"top",background:f.palette.primary.main}},l.a.createElement(Dn,null)),l.a.createElement(re.a,{display:"inline-block",style:{width:"calc(100vw - 16px - 225px)",minWidth:900,height:"100%",overflowInline:"scroll"}},l.a.createElement(Ga.a,{component:o,maxWidth:c,className:Object(Za.a)((t={},Object(Ie.a)(t,g.root,!0),Object(Ie.a)(t,g.paddingTop,m),Object(Ie.a)(t,g.paddingBottom,u),Object(Ie.a)(t,g.noPaddingX,p),t)),style:{height:"100vh",paddingTop:"100px"}},a))))},Wn=a(84).APP_ROUTES,Un=function(e){Object(Le.a)(a,e);var t=Object(Fe.a)(a);function a(e){var n;return Object(Pe.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(De.a)(a,[{key:"componentDidCatch",value:function(e,t){this.props.history.push(Wn.NOT_FOUND)}},{key:"render",value:function(){return this.state.hasError&&this.props.history.push(Wn.NOT_FOUND),this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(l.a.Component),Hn=Object(d.h)(Un),zn=a(421),Mn=a(689),qn=a.n(Mn);function $n(){var e=Object(s.a)(["\n  query {\n    me {\n      avatarUrl\n      name\n    }\n  }\n"]);return $n=function(){return e},e}function Xn(){var e=Object(s.a)(["\n  mutation($code: String!) {\n    authenticate(code: $code)\n  }\n"]);return Xn=function(){return e},e}Ee()(Xn());var Zn=Ee()($n()),Gn=function(e){return function(t){return function(a){return l.a.createElement(Hn,null,l.a.createElement(e,null,l.a.createElement(t,a)))}}},Kn=function(e){var t=e.AUTHORIZED;e.USER_PROFILE;return l.a.createElement(u.a,null,console.log(t),l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,component:Gn(_n)(O),path:g.APP_PATHS.HOME}),l.a.createElement(Yn,{exact:!0,condition:t,component:Gn(Bn)(mt),path:g.APP_PATHS.EDITORS}),l.a.createElement(Yn,{exact:!0,condition:t,component:Gn(Fn)(Xa),path:g.APP_PATHS.EDITOR})))},Yn=function(e){var t=e.component,a=e.condition,n=e.redirect,o=Object(i.a)(e,["component","condition","redirect"]);return l.a.createElement(d.b,Object.assign({},o,{render:function(e){return a?l.a.createElement(t,e):l.a.createElement(d.a,{to:n||g.APP_PATHS.HOME})}}))},Vn=Object(d.h)(Object(p.c)((function(e){return{AUTHORIZED:e.AUTHORIZED,TOKEN:e.TOKEN,USER_PROFILE:e.USER_PROFILE}}))((function(e){var t=e.dispatch,a=e.AUTHORIZED,n=e.TOKEN,r=e.USER_PROFILE,c=e.history,i=e.location,s=Object(o.useState)(!1),u=Object(m.a)(s,2),d=u[0],p=u[1];console.log(n);var g=function(e){e?(localStorage.setItem("lattex-token",e),t({type:an,payload:e}),h()):(t(sn()),p(!0))},f=Object(zn.a)(Zn,{onCompleted:function(e){var a=e.me;console.log(e),a?(t(function(e){return{type:nn,payload:e}}(a)),c.push(window.location.pathname),p(!0)):(localStorage.removeItem("lattex-token"),t(sn()),c.push(window.location.pathname))},onError:function(e){be(e),localStorage.removeItem("lattex-token"),t(sn()),p(!0)}}),b=Object(m.a)(f,2),h=b[0],E=b[1].loading;return Object(o.useEffect)((function(){t({type:ln,payload:{id:"root-loader"||void 0,status:E}})}),[E]),Object(o.useEffect)((function(){if(n)h();else{var e=qn.a.parse(i.search).code;e?function(e){fetch("".concat("https://lattex-fyp.herokuapp.com/","authenticate?code=").concat(e)).then((function(e){return e.json()})).then((function(e){g(null===e||void 0===e?void 0:e.access_token),c.push(window.location.pathname)}),(function(e){localStorage.removeItem("lattex-token"),t(sn()),c.push(window.location.pathname),p(!0)}))}(e):(t(sn()),p(!0))}}),[]),d?l.a.createElement(Kn,{AUTHORIZED:a,USER_PROFILE:r}):null}))),Jn=(a(1615),Object(p.c)((function(e){return{ERROR:e.ERROR,TOKEN:e.TOKEN}}))((function(e){e.dispatch;var t=e.TOKEN;e.ERROR;return l.a.createElement(l.a.Fragment,null,l.a.createElement(fe.a,null),l.a.createElement(Vn,{key:t}))}))),Qn=a(239);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var eo,to=a(178),ao=a(1647),no=a(73),oo=a(430),lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t.type===ln){var a=e.find((function(e){return e.id===t.payload.id}));return[].concat(a?Object(st.a)(e.filter((function(e){return e.id!==t.payload.id}))):Object(st.a)(e),[t.payload])}return e},ro=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage.getItem("lattex-token"),t=arguments.length>1?arguments[1]:void 0;return t.type===an?t.payload:t.type===mn?null:e},co=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===nn||t.type!==mn&&e},io=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===nn?t.payload:t.type===on?pe.a.merge(e,t.payload):t.type===mn?{}:e},mo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1},t=arguments.length>1?arguments[1]:void 0;if(t.type===rn&&t.payload.response)e=Object(v.a)(Object(v.a)({},t.payload.response.data),{},{show:!0});else if(t.type!==rn||t.payload.response)t.type===cn&&(e=Object(v.a)(Object(v.a)({},e),{},{show:!1}));else{var a={code:"DEFAULT_ERROR",message:t.payload};e=Object(v.a)(Object(v.a)({},a),{},{show:!0})}return e},so=function(e){return Object(no.c)(Object(v.a)({router:Object(Qn.b)(e)},n))},uo=a(96),po=a(641),go=Object(uo.a)(),fo=a(15),bo=a(58),ho=a(692),Eo=a(693),xo=a(690),yo=Object(Eo.a)({uri:"https://lattex-fyp.herokuapp.com/graphql"}),Oo=Object(xo.a)((function(e,t){var a=t.headers,n=localStorage.getItem("lattex-token");return{headers:Object(v.a)(Object(v.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),vo=new bo.a({link:Oo.concat(yo),cache:new ho.a({addTypename:!1}),defaultOptions:{query:{fetchPolicy:"no-cache",errorPolicy:"all"},mutate:{fetchPolicy:"no-cache",errorPolicy:"all"}}}),wo=(a(1616),window.__REDUX_DEVTOOLS_EXTENSION__?Object(no.e)(so(go),eo,Object(no.d)(Object(no.a)(Object(po.a)(go),oo.a),window.__REDUX_DEVTOOLS_EXTENSION__())):Object(no.e)(so(go),eo,Object(no.d)(Object(no.a)(Object(po.a)(go),oo.a)))),jo=Object(to.a)({palette:{primary:{main:"#F8B21C",opposite:"#ffffff"}},typography:{fontFamily:"Inika"}});c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ao.a,{theme:jo},l.a.createElement(p.a,{store:wo},l.a.createElement(fo.b,{client:vo},l.a.createElement(Qn.a,{history:go},l.a.createElement(Jn,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},426:function(e,t,a){e.exports=a.p+"static/media/report-1.0735bd79.jpg"},45:function(e,t){t.dict={part:{name:"Part",left:"",size:"2.2rem",weight:"bold"},section:{name:"Section",left:"",size:"1.45rem",weight:"bold"},subsection:{name:"Subsection",left:"",size:"1.2rem",weight:"bold"},subsubsection:{name:"Subsubsection",left:"",size:"1rem",weight:"bold"},paragraph:{name:"Paragraph",left:"",size:"1.2rem",weight:"bold"},subparagraph:{name:"Subparagraph",left:"1em",size:"1rem",weight:"bold"}},t.beamer={"begin{frame}":{name:"Frame",left:"",size:"1.2rem",weight:"bold"},"begin{block}":{name:"Block",left:"",size:"1rem",weight:""},"begin{alertblock}":{name:"AlertBlock",left:"",size:"1rem",weight:""},"begin{exampleblock}":{name:"ExampleBlock",left:"",size:"1rem",weight:""}},t.htmlcode={"<ol><li>":{name:"Numbered List",codeStart:"<ol><li>",codeEnd:"</ol></li>"},"<ul><li>":{name:"Unnumbered List",codeStart:"<ul><li>",codeEnd:"</ul></li>"},"<blockquote>":{name:"Quote",codeStart:"<blockquote>",codeEnd:"</blockquote>"},"<pre><code>":{name:"Code",codeStart:"<pre><code>",codeEnd:"</code></pre>"}}},650:function(e,t,a){e.exports=a.p+"static/media/lattex.69b6db96.svg"},666:function(e,t,a){e.exports=a.p+"static/media/article-1.11ca0cfa.jpg"},667:function(e,t,a){e.exports=a.p+"static/media/beamer-1.ef23a87f.jpg"},678:function(e,t){t.equationTools=[{title:"Symbol",code:"+",buttonArray:[{title:"Plus",code:"+"},{title:"Minus",code:"-"},{title:"Times",code:"\\times"},{title:"Divide",code:"\\div"},{code:"\\mp",title:""},{code:"\\pm",title:""},{code:"\\cap",title:""},{code:"\\cup",title:""},{code:"\\neq",title:""},{code:"\\leq",title:""},{code:"\\geq",title:""},{code:"\\perp",title:""},{code:"\\notin",title:""},{code:"\\subset",title:""},{code:"\\simeq",title:""},{code:"\\approx",title:""},{code:"\\wedge",title:""},{code:"\\vee",title:""},{code:"\\oplus",title:""},{code:"\\otimes",title:""},{code:"\\Box",title:""},{code:"\\boxtimes",title:""},{code:"\\equiv",title:""},{code:"\\cong",title:""},{code:"\\infty",title:""},{code:"\\Re",title:""},{code:"\\nabla",title:""},{code:"\\partial",title:""},{code:"\\emptyset",title:""},{code:"\\wp",title:""},{code:"\\neg",title:""},{code:"\\square",title:""},{code:"\\blacksquare",title:""},{code:"\\forall",title:""},{code:"\\Im",title:""},{code:"\\exists",title:""},{code:"\\nexists",title:""},{code:"\\varnothing",title:""},{code:"\\complement",title:""},{code:"\\cdots",title:""},{code:"\\surd",title:""},{code:"\\triangle",title:""}]},{title:"Letter",code:"\\beta",buttonArray:[{title:"Beta",code:"\\beta"},{title:"Alpha",code:"\\alpha"},{title:"Gamma",code:"\\gamma"},{title:"Delta",code:"\\delta"},{title:"Epsilon",code:"\\epsilon"},{title:"Epsilon",code:"\\epsilon"},{title:"Zeta",code:"\\zeta"},{title:"Eta",code:"\\eta"},{title:"Iota",code:"\\iota"},{title:"Kappa",code:"\\kappa"},{title:"Lambda",code:"\\lambda"},{title:"Nu",code:"\\nu"},{title:"Xi",code:"\\xi"},{title:"Pi",code:"\\pi"},{title:"Sigma",code:"\\sigma"},{title:"Tau",code:"\\tau"},{title:"Upsilon",code:"\\upsilon"},{title:"Phi",code:"\\phi"},{title:"Phi",code:"\\Phi"},{title:"Varphi",code:"\\varphi"},{title:"Psi",code:"\\psi"},{title:"Psi",code:"\\Psi"},{title:"Omega",code:"\\omega"},{title:"Omega",code:"\\Omega"},{title:"Rho",code:"\\rho"},{title:"Theta",code:"\\theta"}]},{title:"Arrow",code:"\\leftarrow",buttonArray:[{title:"Left Arrow",code:"\\leftarrow"},{title:"Left Arrow",code:"\\Leftarrow"},{title:"Right Arrow",code:"\\rightarrow"},{title:"Right Arrow",code:"\\Rightarrow"},{title:"Up Arrow",code:"\\uparrow"},{title:"Up Arrow",code:"\\Uparrow"},{title:"Down Arrow",code:"\\downarrow"},{title:"Down Arrow",code:"\\Downarrow"},{title:"Left Right Arrow",code:"\\leftrightarrow"},{title:"Left Right Arrow",code:"\\Leftrightarrow"},{title:"Up Down Arrow",code:"\\updownarrow"},{title:"Up Down Arrow",code:"\\Updownarrow"},{title:"Map Sto",code:"\\mapsto"},{title:"Long Map Sto",code:"\\longmapsto"},{title:"NE Arrow",code:"\\nearrow"},{title:"SE Arrow",code:"\\searrow"},{title:"SW Arrow",code:"\\swarrow"},{title:"NW Arrow",code:"\\nwarrow"},{title:"Left Harpoon Up",code:"\\leftharpoonup"},{title:"Right Harpoon Up",code:"\\rightharpoonup"},{title:"Left Harpoon Down",code:"\\leftharpoondown"},{title:"Left Harpoon Down",code:"\\rightharpoondown"}]},{title:"Basic Equation",code:"x^y",buttonArray:[{title:"Super Script",code:"x^y"},{title:"Sub Script",code:"x_{y}"},{title:"Sub Script",code:"x^{n}_{m}"},{title:"Fraction",code:"\\frac{x}{y}"},{title:"Root",code:"\\sqrt[n]{x}"}]},{title:"Large Operator",code:"\\sum_{k=1}^{n}",buttonArray:[{title:"Summation",code:"\\sum_{k=1}^{n}"},{title:"Products",code:"\\prod_{k=1}^{n}"}]},{title:"Function",code:"\\sin{x}",buttonArray:[{title:"Sine",code:"\\sin{x}"},{title:"Cosine",code:"\\cos{x}"},{title:"Tangent",code:"\\tan{x}"},{title:"Sine",code:"\\csc{x}"},{title:"Cosine",code:"\\sec{x}"},{title:"Tangent",code:"\\cot{x}"},{title:"Sine",code:"\\sin^{-1}{x}"},{title:"Cosine",code:"\\cos^{-1}{x}"},{title:"Tangent",code:"\\tan^{-1}{x}"},{title:"Sine",code:"\\csc^{-1}{x}"},{title:"Cosine",code:"\\sec^{-1}{x}"},{title:"Tangent",code:"\\cot^{-1}{x}"},{title:"Sine",code:"\\sinh{x}"},{title:"Cosine",code:"\\cosh{x}"},{title:"Tangent",code:"\\tanh{x}"},{title:"Sine",code:"\\text{csch}^{-1} {x}"},{title:"Cosine",code:"\\text{sech} {x}"},{title:"Tangent",code:"\\coth{x}"},{title:"Sine",code:"\\sinh^{-1}{x}"},{title:"Cosine",code:"\\cosh^{-1}{x}"},{title:"Tangent",code:"\\tanh^{-1}{x}"},{title:"Sine",code:"\\text{csch}^{-1} {x}"},{title:"Cosine",code:"\\text{sech}^{-1} {x}"},{title:"Tangent",code:"\\coth^{-1}{x}"}]},{title:"Integral",code:"\\int_{x}^{-x}",buttonArray:[{title:"",code:"\\int{x}"},{title:"",code:"\\int_{x}^{-x}{f(x)}"},{title:"",code:"\\oint_V f(s)"},{title:"",code:"\\frac{dx}{dy}"},{title:"",code:"\\frac{\\partial f}{\\partial x}"},{title:"",code:"\\frac{\\partial^k f}{\\partial x^k}"},{title:"",code:"f'(x)"},{title:"",code:"f^{(k)}(x)"}]},{title:"Limit and Log",code:"\\lim_{x \\to +\\infty} f(x)",buttonArray:[{title:"",code:"\\lim_{x \\to +\\infty} f(x)"},{title:"",code:"\\lim_{x \\to -\\infty} f(x)"},{title:"",code:"\\lim_{x \\to \\alpha} f(x)"},{title:"",code:"\\inf_{x > s}f(x)"},{title:"",code:"\\sup_{x \\in R}f(x)"},{title:"",code:"\\max_{x \\in R}f(x)"},{title:"",code:"\\min_{x \\in R}f(x)"},{title:"",code:"\\log{f(x)}"}]}]},687:function(e,t,a){e.exports=a.p+"static/media/lattex-header-logo-orange.b3105b89.svg"},688:function(e,t,a){e.exports=a.p+"static/media/lattex-header-logo.7a25ac92.svg"},705:function(e,t,a){e.exports=a(1617)},714:function(e,t,a){e.exports=a.p+"static/media/equation-4.6d716287.svg"},715:function(e,t,a){e.exports=a.p+"static/media/equation-5.78016b64.svg"},716:function(e,t,a){e.exports=a.p+"static/media/graph-bar.6e8ed730.svg"},717:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t),a.d(t,"STEMS",(function(){return n})),a.d(t,"APP_ROUTES",(function(){return o})),a.d(t,"APP_PATHS",(function(){return l}));a(52);var n={HOME:"/",EDITOR:"/editor",NOT_FOUND:"/404"},o={HOME:"".concat(n.HOME),EDITOR:function(e){return"".concat(n.EDITOR,"/").concat(e)},EDITORS:"".concat(n.EDITOR),NOT_FOUND:"".concat(n.NOT_FOUND)},l={HOME:"".concat(n.HOME),LOGIN:"".concat(n.LOGIN),EDITOR:"".concat(n.EDITOR,"/:id"),EDITORS:"".concat(n.EDITOR),NOT_FOUND:"".concat(n.NOT_FOUND)}}},[[705,1,2]]]);
//# sourceMappingURL=main.48323364.chunk.js.map