/*! For license information please see main.5e7a19df.chunk.js.LICENSE.txt */
(this.webpackJsonplattex=this.webpackJsonplattex||[]).push([[0],{1615:function(e,t,a){},1616:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"LOADER",(function(){return ol})),a.d(n,"TOKEN",(function(){return rl})),a.d(n,"AUTHORIZED",(function(){return cl})),a.d(n,"USER_PROFILE",(function(){return il})),a.d(n,"ERROR",(function(){return ml}));var l=a(0),o=a.n(l),r=a(20),c=a.n(r),i=a(324),m=a(21),s=a(110),u=a(138),d=a(35),p=a(49),f=a(70),g=a(132),b=a(24),E=a(141),h=a(649),x=a.n(h),y=(a(713),a(714),a(715),a(716),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"".concat(t?"url(":"","https://awv3node-homepage.surge.sh/build/assets/").concat(e,".svg").concat(t?")":"")}),O=function(){o.a.useRef();var e=null,t=Object(b.a)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.Parallax,{ref:function(t){return e=t},pages:3,style:{backgroundColor:"#F8F8F8"},className:"big-box"},o.a.createElement(g.ParallaxLayer,{offset:0,speed:1,style:{backgroundColor:t.palette.primary.main}}),o.a.createElement(g.ParallaxLayer,{offset:0,speed:0,factor:3,style:{backgroundImage:y("stars",!0),backgroundSize:"cover"}}),o.a.createElement(g.ParallaxLayer,{offset:1,speed:1,style:{backgroundColor:"#805E73"}}),o.a.createElement(g.ParallaxLayer,{offset:2,speed:1,style:{backgroundColor:"#87BCDE"}}),o.a.createElement(g.ParallaxLayer,{offset:2.5,speed:-.4,style:{display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"}},o.a.createElement("img",{src:y("earth"),style:{width:"60%"}})),o.a.createElement(g.ParallaxLayer,{offset:0,speed:.1,onClick:function(){return e.scrollTo(1)},style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement("div",{className:"wrapper",style:{marginLeft:"30%",transform:"translate(-25%, 0)"}},o.a.createElement("img",{src:x.a,style:{width:"50%",marginLeft:"50%",transform:"translate(-50%, 0)"},className:"logo"}),o.a.createElement(E.a,{variant:"h3",className:"text"},"LATEX DOCUMENT PROCESSOR"))),o.a.createElement(g.ParallaxLayer,{offset:1,speed:.1,onClick:function(){return e.scrollTo(2)},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:10}},o.a.createElement("img",{src:y("bash"),style:{width:"40%"}}),o.a.createElement(E.a,{variant:"h3",className:"text",style:{width:"50%"}},"Create a LaTeX document",o.a.createElement("br",null),"Without coding")),o.a.createElement(g.ParallaxLayer,{offset:2,speed:-0,style:{display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){return e.scrollTo(0)}},o.a.createElement(E.a,{variant:"h3",className:"text",style:{width:"50%"}},"Web-based and cloud-stored",o.a.createElement("br",null)," Write anywhere and anytime"),o.a.createElement("img",{src:y("clients-main"),style:{width:"40%"}}))))},v=a(34),j=a(411),w=a.n(j),k=a(652),C=a.n(k),S=a(653),T=a.n(S),I=a(662),R=a.n(I),N=a(654),P=a.n(N),D=a(660),A=a.n(D),L=a(423),F=a.n(L),_=a(422),W=a.n(_),B=a(655),H=a.n(B),U=a(167),z=a.n(U),q=a(657),M=a.n(q),$=a(658),X=a.n($),Z=a(659),G=a.n(Z),K=a(663),Y=a.n(K),V=a(656),J=a.n(V),Q=a(661),ee=a.n(Q),te=a(664),ae=a.n(te),ne=a(317),le=a.n(ne),oe=a(243),re=a(357),ce=a(1654),ie=a(274),me={Add:Object(l.forwardRef)((function(e,t){return o.a.createElement(T.a,Object.assign({},e,{ref:t}))})),Check:Object(l.forwardRef)((function(e,t){return o.a.createElement(P.a,Object.assign({},e,{ref:t}))})),Clear:Object(l.forwardRef)((function(e,t){return o.a.createElement(W.a,Object.assign({},e,{ref:t}))})),Delete:Object(l.forwardRef)((function(e,t){return o.a.createElement(H.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(l.forwardRef)((function(e,t){return o.a.createElement(F.a,Object.assign({},e,{ref:t}))})),Edit:Object(l.forwardRef)((function(e,t){return o.a.createElement(z.a,Object.assign({},e,{ref:t}))})),Export:Object(l.forwardRef)((function(e,t){return o.a.createElement(J.a,Object.assign({},e,{ref:t}))})),Filter:Object(l.forwardRef)((function(e,t){return o.a.createElement(M.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(l.forwardRef)((function(e,t){return o.a.createElement(X.a,Object.assign({},e,{ref:t}))})),LastPage:Object(l.forwardRef)((function(e,t){return o.a.createElement(G.a,Object.assign({},e,{ref:t}))})),NextPage:Object(l.forwardRef)((function(e,t){return o.a.createElement(F.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(l.forwardRef)((function(e,t){return o.a.createElement(A.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(l.forwardRef)((function(e,t){return o.a.createElement(W.a,Object.assign({},e,{ref:t}))})),Search:Object(l.forwardRef)((function(e,t){return o.a.createElement(ee.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(l.forwardRef)((function(e,t){return o.a.createElement(R.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(l.forwardRef)((function(e,t){return o.a.createElement(Y.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(l.forwardRef)((function(e,t){return o.a.createElement(ae.a,Object.assign({},e,{ref:t}))}))},se=Object(ie.a)()((function(e){var t=e.documents,a=e.loading,n=e.deleteDocument,r=Object(d.g)(),c=Object(b.a)(),i=Object(l.useState)(window.innerWidth),s=Object(m.a)(i,2),u=s[0],p=s[1];return Object(l.useEffect)((function(){function e(){p(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{icons:me,isLoading:a,data:t,columns:[{title:"Name",field:"name"},{title:"Description",field:"description",cellStyle:{width:"400px",minWidth:"400px"},headerStyle:{width:"400px",minWidth:"400px"}},{title:"Last Edited Time",field:"pushedAt",render:function(e){return C()(e.pushedAt).fromNow()},defaultSort:"desc"}],title:"Documents",actions:[{icon:"edit",tooltip:"Edit",onClick:function(e,t){return r.push(f.APP_ROUTES.EDITOR(t.name))}},{icon:"delete",tooltip:"Delete Document",onClick:function(e,t){return n(t.name)}}],options:{actionsColumnIndex:-1,minBodyHeight:"75vh",maxBodyHeight:"75vh",paging:!1,draggable:!1,thirdSortClick:!1,searchFieldAlignment:"left",showTitle:!1,searchFieldStyle:{width:u>960?864:u-96},headerStyle:{backgroundColor:c.palette.primary.main}},components:{Container:function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(oe.a,{children:e.children.slice(0,3),style:Object(v.a)(Object(v.a)({},e.style),{},{backgroundColor:c.palette.primary.main}),elevation:4}),o.a.createElement(re.a,{mb:3}),o.a.createElement(oe.a,{children:e.children.slice(3,e.children.length),style:e.style,elevation:4}))},Action:function(e){return"edit"===e.action.icon?o.a.createElement(ce.a,{onClick:function(t){return e.action.onClick(t,e.data)},color:"primary",size:"small",style:{margin:".5rem"}},o.a.createElement(z.a,{style:{color:"white"}})):"delete"===e.action.icon?o.a.createElement(ce.a,{onClick:function(t){return e.action.onClick(t,e.data)},size:"small",style:{margin:".5rem"}},o.a.createElement(le.a,{style:{color:"#888888"}})):o.a.createElement(o.a.Fragment,null)}}}))})),ue=a(1664),de=a(50),pe=a.n(de),fe=a(189),ge=a.n(fe),be=function(e){fe.store.addNotification({message:e.message||"\u4f3a\u670d\u5668\u932f\u8aa4",type:"danger",insert:"top",container:"top-center",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3}})},Ee=a(111),he=a.n(Ee),xe=a(509),ye=a(237),Oe=a.n(ye),ve=a(1646),je=a(1651),we=a(499),ke=a(412),Ce=a(1657),Se=a(1655),Te=a(1656),Ie=a(510),Re=a(494),Ne=a(94),Pe=a(506),De=function(e){var t=e.docInfo,a=e.setDocInfo,n=e.filename,l=function(e,n){a(Object(v.a)(Object(v.a)({},t),{},Object(Ne.a)({},e,n)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(je.a,{container:!0,justify:"center"},o.a.createElement(je.a,{item:!0,container:!0,justify:"center",style:{width:"60%"},spacing:4},o.a.createElement(je.a,{item:!0,xs:12},o.a.createElement(Pe.a,{error:n.includes(t.name)||!t.name||t.name.includes(" "),helperText:n.includes(t.name)?"Repeated":t.name?t.name.includes(" ")?"cannot include space or special character":"":"cannot be empty",fullWidth:!0,value:t.name,onChange:function(e){return l("name",e.target.value)},label:"Name"})),o.a.createElement(je.a,{item:!0,xs:12},o.a.createElement(Pe.a,{fullWidth:!0,value:t.description,onChange:function(e){return l("description",e.target.value)},label:"Description"})))))},Ae=a(190),Le=a(191),Fe=a(246),_e=a(193),We=a(192),Be=a(236),He=(a(521),function(e){Object(_e.a)(a,e);var t=Object(We.a)(a);function a(e){return Object(Ae.a)(this,a),t.call(this,e)}return Object(Le.a)(a,[{key:"render",value:function(){var e,t,a=this.props,n=a.src,l=a.isSelected,r=a.onImageClick,c=a.label;return o.a.createElement(re.a,null,o.a.createElement("div",{className:"responsive".concat(l?" selected":""),style:{marginBottom:"1rem"},onClick:r},o.a.createElement("img",{src:n,className:"thumbnail".concat(l?" selected":""),style:(e=150,t=150,{width:e,height:t,objectFit:"cover"})}),o.a.createElement("div",{className:"checked",style:{bottom:"25px"}},o.a.createElement("div",{className:"icon"})),o.a.createElement(E.a,{align:"center"},c)))}}]),a}(l.Component)),Ue=function(e){Object(_e.a)(a,e);var t=Object(We.a)(a);function a(e){var n;return Object(Ae.a)(this,a),(n=t.call(this,e)).state={picked:Object(Be.Map)()},n.handleImageClick=n.handleImageClick.bind(Object(Fe.a)(n)),n.renderImage=n.renderImage.bind(Object(Fe.a)(n)),n}return Object(Le.a)(a,[{key:"handleImageClick",value:function(e){var t=this.props,a=t.multiple,n=t.onPick,l=a?this.state.picked:Object(Be.Map)(),o=l.has(e.value)?l.delete(e.value):l.set(e.value,e.src);this.setState({picked:o});var r=[];o.map((function(e,t){return r.push({src:e,value:t})})),n(a?r:r[0])}},{key:"renderImage",value:function(e,t,a){var n=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(He,{src:e.src,label:e.value.name,isSelected:e.value===t,onImageClick:function(){return n.handleImageClick(e)},key:a}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.images,n=t.currentValue;return o.a.createElement(je.a,{container:!0,justify:"center",className:"image_picker",spacing:4},o.a.createElement(je.a,{item:!0},a.map((function(t,a){return e.renderImage(t,n,a)}))))}}]),a}(l.Component),ze=a(665),qe=a.n(ze),Me=a(666),$e=a.n(Me),Xe=a(667),Ze=a.n(Xe),Ge=a(1661),Ke=[{pdf:"".concat("https://HoTszYanAnn.github.io/lattex","/pdf/default.pdf"),image:qe.a,name:"article",path:"default.tex",description:"default article",key:Object(Ge.a)()},{pdf:"".concat("https://HoTszYanAnn.github.io/lattex","/pdf/report.pdf"),image:$e.a,name:"report",path:"report.tex",description:"default report",key:Object(Ge.a)()},{pdf:"".concat("https://HoTszYanAnn.github.io/lattex","/pdf/beamer.pdf"),image:Ze.a,name:"beamer",path:"beamer.tex",description:"default beamer(Madrid)",key:Object(Ge.a)()}],Ye=function(e){var t=e.template,a=e.setTemplate;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ue,{images:Ke.map((function(e){return{src:e.image,value:e}})),onPick:function(e){var t=e.value;return a(t)},currentValue:t}))},Ve=function(e){var t=e.template;return o.a.createElement(o.a.Fragment,null,o.a.createElement(je.a,{container:!0,style:{height:"70vh"}},o.a.createElement(je.a,{xs:9},o.a.createElement(re.a,{style:{width:"100%",height:"85%",backgroundColor:"rgb(82, 86, 89)"}},o.a.createElement("iframe",{src:"".concat(t.pdf),style:{width:"100%",height:"100%",border:"none"}}))),o.a.createElement(je.a,{xs:2,align:"center"},o.a.createElement(E.a,{variant:"h5",gutterBottom:!0},"Template: ",t.name),o.a.createElement(re.a,{style:{height:"15%",width:"80%"}},o.a.createElement(E.a,{variant:"h6"},"Description: "),o.a.createElement(E.a,{variant:"body1"},t.description)))))},Je=function(e){var t=e.template,a=e.setTemplate;return o.a.createElement(o.a.Fragment,null,o.a.createElement(je.a,{container:!0,style:{height:"60vh"}},o.a.createElement(je.a,{xs:3},o.a.createElement(Ye,{template:t,setTemplate:a})),o.a.createElement(je.a,{xs:9},o.a.createElement(Ve,{template:t,key:t.key}))))},Qe=function(e){var t=e.docInfo,a=e.template;return o.a.createElement(o.a.Fragment,null,o.a.createElement(je.a,{container:!0,style:{height:"60vh"},alignItems:"center",alignContent:"center"},o.a.createElement(je.a,{item:!0,xs:6,container:!0,justify:"center"},o.a.createElement(je.a,{item:!0,style:{maxWidth:"400px",width:"50%"}},o.a.createElement(E.a,{variant:"h5",align:"center",gutterBottom:!0}," Document Information "),o.a.createElement(E.a,null,"Name:"),o.a.createElement(E.a,{align:"right"},t.name),o.a.createElement(E.a,null,"Description:"),o.a.createElement(E.a,{align:"right"},t.decription?t.description:"N/A"))),o.a.createElement(je.a,{item:!0,xs:6,style:{height:"60vh"}},o.a.createElement(E.a,{variant:"h5",align:"center",gutterBottom:!0},"Chosen Template: ",a.name),o.a.createElement(re.a,{style:{width:"100%",height:"90%",backgroundColor:"rgb(82, 86, 89)"}},o.a.createElement("iframe",{src:"".concat(a.pdf),style:{width:"100%",height:"100%",border:"none"}})))))},et=a(318),tt=a.n(et),at=Object(xe.a)((function(e){return{root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var nt=function(e){var t=e.open,a=e.setOpen,n=e.createDocument,r=e.createDocumentGqlLoading,c=e.filename,i=at(),s=Object(l.useState)({name:"",visibility:"PUBLIC",description:""}),u=Object(m.a)(s,2),d=u[0],p=u[1],f=Object(l.useState)(Ke[0]),g=Object(m.a)(f,2),b=g[0],h=g[1],x=Object(l.useState)(!0),y=Object(m.a)(x,2),O=y[0],v=y[1],j=o.a.useState(0),w=Object(m.a)(j,2),k=w[0],C=w[1],S=["Document Information","Select Template","Confirm"];return Object(l.useEffect)((function(){0===k&&(!d.name||c.includes(d.name)||d.name.includes(" ")?v(!0):v(!1)),1===k&&v(!b)}),[d,b,k]),o.a.createElement(o.a.Fragment,null,o.a.createElement(ve.a,{open:t,onClose:function(){return a(!1)},fullWidth:!0,maxWidth:"lg",disableBackdropClick:!0,disableEscapeKeyDown:!0},o.a.createElement(je.a,{container:!0,justify:"space-between",alignItems:"center"},o.a.createElement(je.a,{item:!0},o.a.createElement(E.a,{variant:"h5",style:{margin:"1.5rem 2rem"}},"Create Document")),o.a.createElement(je.a,{item:!0},o.a.createElement(we.a,{title:"Cancel"},o.a.createElement(ke.a,{size:"large",style:{margin:"0rem 1rem"},onClick:function(){return a(!1)}},o.a.createElement(tt.a,null))))),o.a.createElement(Ce.a,{activeStep:k,alternativeLabel:!0},S.map((function(e){return o.a.createElement(Se.a,{key:e},o.a.createElement(Te.a,null,e))}))),o.a.createElement("div",{style:{maxHeight:"70vh"}},0===k&&o.a.createElement(De,{docInfo:d,setDocInfo:p,filename:c}),1===k&&o.a.createElement(Je,{template:b,setTemplate:h}),2===k&&o.a.createElement(Qe,{docInfo:d,template:b}),o.a.createElement(re.a,{my:4}),o.a.createElement(je.a,{container:!0,justify:"center"},o.a.createElement(je.a,{item:!0},o.a.createElement(Ie.a,{disabled:0===k,onClick:function(){C((function(e){return e-1}))},className:i.backButton},"Back"),k===S.length-1?o.a.createElement(Ie.a,{variant:"contained",color:"primary",onClick:function(){return n(d,b)},disabled:r},r?o.a.createElement(Re.a,{size:24}):"Finish"):o.a.createElement(Ie.a,{variant:"contained",color:"primary",onClick:function(){C((function(e){return e+1}))},disabled:O},"Next"))),o.a.createElement(re.a,{my:4}))))};function lt(){var e=Object(s.a)(["\n  mutation($name: String!) {\n    deleteDocument(name: $name){\n      id\n      name\n      description\n      pushedAt\n      createdAt\n      isPrivate\n    }\n  }\n"]);return lt=function(){return e},e}function ot(){var e=Object(s.a)(["\n  mutation($input: DocumentCreateInput!, $path: String!) {\n    addDocument(input: $input, path: $path){\n      name\n    }\n  }\n"]);return ot=function(){return e},e}function rt(){var e=Object(s.a)(["\n  query {\n    documents {\n      id\n      name\n      description\n      pushedAt\n      createdAt\n      isPrivate\n    }\n  }\n"]);return rt=function(){return e},e}var ct=he()(rt()),it=he()(ot()),mt=he()(lt()),st=Object(xe.a)((function(e){return{fab:{position:"absolute",top:"100px",left:"112.5px",transform:"translate(-50%, -50%)"},extendedIcon:{marginRight:e.spacing(2)}}})),ut=function(){var e=Object(d.g)(),t=st(),a=Object(l.useState)([]),n=Object(m.a)(a,2),r=n[0],c=n[1],i=Object(l.useState)([]),s=Object(m.a)(i,2),u=s[0],p=s[1],g=Object(l.useState)(!1),b=Object(m.a)(g,2),E=b[0],h=b[1],x=Object(ue.b)(ct,{onCompleted:function(e){c(e.documents),p(e.documents.map((function(e){return e.name})))},onError:be,fetchPolicy:"no-cache"}).loading,y=Object(ue.a)(it,{onCompleted:function(t){console.log(t),t.addDocument.name&&e.push(f.APP_ROUTES.EDITOR(t.addDocument.name))},onError:be,fetchPolicy:"no-cache"}),O=Object(m.a)(y,2),v=O[0],j=O[1].loading,w=Object(ue.a)(mt,{onCompleted:function(e){c(e.deleteDocument),p(e.deleteDocument.map((function(e){return e.name})))},onError:be,fetchPolicy:"no-cache"}),k=Object(m.a)(w,2),C=k[0],S=k[1].loading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(se,{documents:r,loading:x||S,deleteDocument:function(e){C({variables:{name:e}})}}),o.a.createElement(nt,{open:E,setOpen:h,createDocument:function(e,t){v({variables:{input:e,path:t.path}})},createDocumentGqlLoading:j,filename:u}),o.a.createElement(ce.a,{className:t.fab,variant:"extended",size:"medium",onClick:function(){return h(!0)}},o.a.createElement(Oe.a,{className:t.extendedIcon}),"Add New"))},dt=a(248),pt=function(e){var t=e.doc;e.key;return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{style:{width:"100%",height:"100%",backgroundColor:"rgb(82, 86, 89)"}},o.a.createElement("iframe",{src:"".concat("https://latexonline.cc","/compile?git=").concat(t.url,"&target=main.tex").concat(""),style:{width:"100%",height:"100%",border:"none"}})))},ft=a(321),gt=a.n(ft),bt=a(680),Et=a.n(bt),ht=a(163),xt=a(416),yt=a(417),Ot=a(421),vt=a(497),jt=a(508),wt=a(643),kt=["article","report","book"],Ct=["title","date","author","always_today"],St=function(e){var t=e.doc,a=e.pushAndCompile,n=Object(l.useState)(!1),r=Object(m.a)(n,2),c=(r[0],r[1]),i=pe()(t.latex).pick(["haveTitle","haveContentPage","titles","documentclass"]).value(),s=Object(l.useState)(i),u=Object(m.a)(s,2),d=u[0],p=u[1],f=function(e,t){if(Ct.includes(e)){var a=Object(v.a)(Object(v.a)({},d.titles),{},Object(Ne.a)({},e,t));p(Object(v.a)(Object(v.a)({},d),{},{titles:a}))}else p(Object(v.a)(Object(v.a)({},d),{},Object(Ne.a)({},e,t)))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{display:"flex",style:{width:"30vw"}},o.a.createElement(re.a,{flexGrow:1}),o.a.createElement(we.a,{title:"Save",placement:"top"},o.a.createElement(ke.a,{onClick:function(){var e=function(e,t){var a={};for(var n in t)pe.a.isEqual(e[n],t[n])||(a[n]=e[n]);return a}(d,i);a(e),c(!1)}},o.a.createElement(gt.a,null)))),o.a.createElement(E.a,{variant:"h5",align:"center"},"Setting"),o.a.createElement(re.a,{style:{height:"50vh",padding:"2rem 5rem"}},o.a.createElement(je.a,{container:!0,spacing:4,alignItems:"flex-end"},o.a.createElement(je.a,{item:!0,xs:12},o.a.createElement(xt.a,{fullWidth:!0},o.a.createElement(yt.a,null,"Document Type"),o.a.createElement(Ot.a,{value:d.documentclass,onChange:function(e){return f("documentclass",e.target.value)}},kt.map((function(e){return o.a.createElement(vt.a,{value:e,key:e},e)}))))),o.a.createElement(je.a,{item:!0,xs:12},o.a.createElement(Pe.a,{label:"title",fullWidth:!0,value:d.titles.title,required:!0,onChange:function(e){return f("title",e.target.value)}})),o.a.createElement(je.a,{item:!0,xs:12},o.a.createElement(Pe.a,{label:"author",fullWidth:!0,value:d.titles.author,onChange:function(e){return f("author",e.target.value)}})),o.a.createElement(je.a,{item:!0,xs:6},o.a.createElement(Pe.a,{label:"date",fullWidth:!0,disabled:d.titles.always_today,value:d.titles.date,onChange:function(e){return f("date",e.target.value)}})),o.a.createElement(je.a,{item:!0,xs:6},o.a.createElement(jt.a,{control:o.a.createElement(wt.a,{checked:d.titles.always_today,onChange:function(e){return f("always_today",e.target.checked)}}),label:"Always 'Today'"})))))},Tt=a(1659),It=a(1658),Rt=a(670),Nt=a.n(Rt),Pt=a(671),Dt=a.n(Pt),At=function(e){var t=e.code;return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{style:{maxWidth:"30vw",marginLeft:"15px",backgroundColor:"rgb(43, 43, 43)",maxHeight:"50vh"},className:"latex-code-menu"},o.a.createElement(re.a,{display:"flex",style:{position:"sticky",top:0}},o.a.createElement(we.a,{title:"Export as Tex",placement:"top"},o.a.createElement(ke.a,{onClick:function(){var e=new File([t],"lattex.tex",{type:"text/plain;charset=utf-8"});Nt.a.saveAs(e)}},o.a.createElement(Dt.a,{style:{color:"#fff"}})))),o.a.createElement(re.a,{style:{margin:0,maxHeight:"calc(50vh - 48px)",overflowY:"auto"}},o.a.createElement(Tt.a,{language:"latex",showLineNumbers:!0,wrapLines:!0,style:It.a},t))))},Lt=a(675),Ft=a.n(Lt),_t=function(e){var t=e.id,a=e.currentOpenWindow,n=e.handleOpenWindow,l=e.children,r=e.icon,c=a===t;return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{style:{position:"relative"}},o.a.createElement(ce.a,{onClick:function(){return n(t)},size:"medium",className:"toolbar-button".concat(c?" opened-toolbar-button":""),disableRipple:!0},r),o.a.createElement(re.a,{className:c?"opened-toolbar-button-menu-shape-white-up":""}),o.a.createElement(re.a,{className:c?"opened-toolbar-button-menu-shape-orange-up":""}),o.a.createElement(re.a,{className:c?"opened-toolbar-button-menu-shape-white-down":""}),o.a.createElement(re.a,{className:c?"opened-toolbar-button-menu-shape-orange-down":""}),o.a.createElement(re.a,{className:c?"opened-toolbar-button-menu-bridge":""})),o.a.createElement(re.a,{className:"toolbar-button-menu",style:{display:c?"block":"none"}},l))},Wt=a(674),Bt=a.n(Wt),Ht=a(1653),Ut=a(149),zt=a(48),qt=a(673),Mt=a.n(qt),$t=Object(xe.a)((function(e){return{divider:{background:e.palette.primary.main}}})),Xt=function(e){var t=e.label,a=e.onClick;return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,null,o.a.createElement(vt.a,{button:!0,onClick:a},t)))},Zt=function(e){var t=e.name,a=e.items;return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{style:{padding:"8px"}},o.a.createElement(E.a,{variant:"h5",color:"primary"},t),o.a.createElement(Ht.a,{classes:{root:$t().divider}}),o.a.createElement(re.a,{mb:2}),o.a.createElement(re.a,{style:{maxHeight:"calc(70vh - 30px - 32px - 1px - 16px)",overflowY:"auto"}},a)))},Gt=function(e){var t=e.setBox,a=e.handleClose;return o.a.createElement(Zt,{name:"Text",items:o.a.createElement(o.a.Fragment,null,o.a.createElement(Xt,{onClick:function(){t(null),a(null)},label:"Paragraph Block"}),o.a.createElement(Xt,{onClick:function(){t("multicols-2",null),a(null)},label:"Multi-column Block"}),o.a.createElement(Xt,{onClick:function(){t("table"),a(null)},label:"Table"}),Object.keys(zt.htmlcode).map((function(e){return o.a.createElement(Xt,{onClick:function(){t(null,"".concat(zt.htmlcode[e].codeStart).concat(zt.htmlcode[e].codeEnd)),a(null)},label:zt.htmlcode[e].name})})),o.a.createElement(re.a,{mb:2}),o.a.createElement(E.a,{variant:"body1",display:"inline"},"Numbered Section Title "),o.a.createElement("br",null),o.a.createElement(E.a,{variant:"body2",display:"inline"},"(included in the table of contents)"),o.a.createElement(Ht.a,null),Object.keys(zt.dict).map((function(e){return o.a.createElement(Xt,{onClick:function(){t(e),a(null)},label:zt.dict[e].name})})),o.a.createElement(re.a,{mb:2}),o.a.createElement(E.a,{variant:"body1",display:"inline"},"Unnumbered Section Title"),o.a.createElement("br",null),o.a.createElement(E.a,{variant:"body2",display:"inline"},"(excluded in the table of contents.)"),o.a.createElement(Ht.a,null),Object.keys(zt.dict).map((function(e){return o.a.createElement(Xt,{onClick:function(){t("".concat(e,"*")),a(null)},label:zt.dict[e].name})})))})},Kt=function(e){var t=e.setBox,a=e.handleClose;return o.a.createElement(Zt,{name:"Beamer",items:o.a.createElement(o.a.Fragment,null,o.a.createElement(Xt,{onClick:function(){t("end"),a(null)},label:"End"}),o.a.createElement(Ht.a,null),Object.keys(zt.beamer).map((function(e){return o.a.createElement(Xt,{onClick:function(){t(e),a(null)},label:zt.beamer[e].name})})))})},Yt=[{name:"Fraction",equation:"\\frac{x}{y} "},{name:"Script",equation:"x^y"},{name:"Radical",equation:"\\sqrt x"},{name:"Integral",equation:"\\int_{a}^{b} x^2 \\,dx"},{name:"Differentials",equation:"\\frac{dx}{dy} 2x "},{name:"Summation",equation:"\\sum_{i=a}^{b} f(i)"},{name:"Products",equation:"\\prod_{i=a}^{b} f(i)"},{name:"Limits",equation:"\\lim_{x\\to\\infty} f(x)"}],Vt=function(e){var t=e.setBox,a=e.handleClose;return o.a.createElement(Zt,{name:"Equation",items:o.a.createElement(o.a.Fragment,null,Yt.map((function(e){return o.a.createElement(Xt,{onClick:function(){t("[\\ ".concat(e.equation," \\]")),a(null)},label:o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,null,o.a.createElement(E.a,null,e.name),o.a.createElement(Ut.MathpixLoader,null,o.a.createElement(Ut.MathpixMarkdown,{text:"\\( ".concat(e.equation," \\)")}))))})})))})},Jt=function(e){var t=e.setBox,a=e.handleClose;return o.a.createElement(Zt,{name:"Command",items:o.a.createElement(o.a.Fragment,null,o.a.createElement(Xt,{onClick:function(){t("maketitle"),a(null)},label:"Make Title"}),o.a.createElement(Xt,{onClick:function(){t("tableofcontents"),a(null)},label:"Table of Contents"}),o.a.createElement(Xt,{onClick:function(){t("hrule"),a(null)},label:"Divider"}),o.a.createElement(Xt,{onClick:function(){t("newpage"),a(null)},label:"New Page"}))})},Qt=function(e){var t=e.setBox,a=e.handleClose,n=e.uploadImages,l=e.images;return o.a.createElement(Zt,{name:"Images",items:o.a.createElement(o.a.Fragment,null,o.a.createElement(E.a,{variant:"body1",display:"inline"},"Upload "),o.a.createElement(Ht.a,null),o.a.createElement(Mt.a,{withIcon:!0,buttonText:"Choose image",onChange:function(e){e[0]&&function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){n({variables:{file_type:"jpg",base64:t.result}})},t.onerror=function(e){console.log("Error: ",e)}}(e[0])},imgExtension:[".jpg",".png",".jpeg"],maxFileSize:5242880,singleImage:!0,label:"Max file size: 2mb, accepted: jpg|jpeg|png"}),o.a.createElement(re.a,{mb:2}),o.a.createElement(E.a,{variant:"body1",display:"inline"},"Select "),o.a.createElement(Ht.a,null),l.map((function(e){return o.a.createElement(Xt,{onClick:function(){var n;t("figure",(n=e.name,"\\begin{figure}[h]\n  \\caption{Example of a parametric plot}\n  \\centering\n  \\includegraphics[width=0.5\\textwidth]{".concat(n,"}\n  \\end{figure}"))),a(null)},label:o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:e.url,alt:e.name,style:{maxWidth:"250px"}}))})})))})},ea=function(e){var t=e.setBox,a=e.handleClose;return o.a.createElement(Zt,{name:"Table",items:o.a.createElement(o.a.Fragment,null,o.a.createElement(Xt,{onClick:function(){t("table"),a(null)},label:"Table"}))})},ta=function(e){var t=e.setBox,a=e.handleClose,n=e.documentclass,r=e.images,c=e.uploadImages,i=Object(l.useState)("text"),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(l.useState)(Object(Ge.a)()),f=Object(m.a)(p,2),g=f[0],b=f[1],E=["text","equation","image","command"];return"beamer"===n&&E.splice(1,0,"beamer"),Object(l.useEffect)((function(){b(Object(Ge.a)())}),[r]),o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{display:"table",style:{height:"100%",minHeight:"70vh"}},o.a.createElement(re.a,{display:"table-cell",className:"menu-leftside-box"},E.map((function(e){return o.a.createElement(Ie.a,{key:e,onClick:function(){d(e)},style:{textTransform:"capitalize",color:"white"},className:u===e?"menu-leftside-button menu-leftside-button-active":"menu-leftside-button",disableRipple:!0},e)}))),o.a.createElement(re.a,{display:"table-cell",style:{verticalAlign:"top",minWidth:"300px",padding:"7px"}},o.a.createElement(re.a,{style:{display:"text"===u?"block":"none"}},o.a.createElement(Gt,{setBox:t,handleClose:a})),o.a.createElement(re.a,{style:{display:"beamer"===u?"block":"none"}},o.a.createElement(Kt,{setBox:t,handleClose:a})),o.a.createElement(re.a,{style:{display:"equation"===u?"block":"none"}},o.a.createElement(Vt,{setBox:t,handleClose:a})),o.a.createElement(re.a,{style:{display:"image"===u?"block":"none"},key:g},o.a.createElement(Qt,{setBox:t,handleClose:a,images:r,uploadImages:c})),o.a.createElement(re.a,{style:{display:"table"===u?"block":"none"}},o.a.createElement(ea,{setBox:t,handleClose:a})),o.a.createElement(re.a,{style:{display:"command"===u?"block":"none"}},o.a.createElement(Jt,{setBox:t,handleClose:a})))))},aa=Object(xe.a)((function(e){return{toolBox:{alignItems:"center",flexDirection:"column"}}})),na=function(e){e.showCompiler,e.changeShowCompiler;var t=e.pushAndCompile,a=e.doc,n=e.setBox,r=(e.onSave,e.uploadImages),c=(aa(),o.a.useState(!1)),i=Object(m.a)(c,2),s=i[0],u=i[1],d=o.a.useState(null),p=Object(m.a)(d,2),f=p[0],g=p[1],b=function(e){g(e===f?null:e)},E=function(){u(!1),g(null)};console.log(s);var h,x=Object(l.useRef)(null);return h=x,Object(l.useEffect)((function(){function e(e){h.current&&!h.current.contains(e.target)&&(console.log("toolbar outsided!!!!!"),E())}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[h]),o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{ref:x},o.a.createElement(re.a,{display:"block"},o.a.createElement(we.a,{title:"ToolBar","aria-label":"ToolBar"},o.a.createElement(ce.a,{onClick:function(){u(!s),g(null)},size:"medium",color:"primary"},s?o.a.createElement(tt.a,{style:{color:"white"}}):o.a.createElement(z.a,{style:{color:"white"}})))),o.a.createElement(re.a,{display:"block",my:2}),o.a.createElement(re.a,{display:"block"},o.a.createElement(je.a,{item:!0,container:!0,direction:"column",style:{display:s?"flex":"none"},alignItems:"center",spacing:3},o.a.createElement(je.a,{item:!0,key:"add-button"},o.a.createElement(re.a,{alignSelf:"flex-start"},o.a.createElement(_t,{id:"add-button",key:"add-button",currentOpenWindow:f,handleOpenWindow:b,icon:o.a.createElement(Oe.a,{style:{color:"add-button"===f?"white":"orange",fontSize:35}}),children:o.a.createElement(ta,{setBox:n,handleClose:E,documentclass:a.latex.documentclass,images:a.latex.images,uploadImages:r})}))),o.a.createElement(je.a,{item:!0,key:"setting-button"},o.a.createElement(re.a,{alignSelf:"flex-start"},o.a.createElement(_t,{id:"setting-button",key:"setting-button",currentOpenWindow:f,handleOpenWindow:b,icon:o.a.createElement(Bt.a,{style:{color:"setting-button"===f?"white":"orange",fontSize:35}}),children:o.a.createElement(St,{doc:a,pushAndCompile:t,handleClose:E})}))),o.a.createElement(je.a,{item:!0,key:"code-button"},o.a.createElement(re.a,{alignSelf:"flex-start"},o.a.createElement(_t,{id:"code-button",key:"code-button",currentOpenWindow:f,handleOpenWindow:b,icon:o.a.createElement(Ft.a,{style:{color:"code-button"===f?"white":"orange",fontSize:35}}),children:o.a.createElement(At,{code:a.latex.latex_code,handleClose:E})})))))))},la=function(e){var t=e.info,a=e.text,n=e.setText,l=e.id,r=(e.label,e.star),c=void 0!==r&&r;return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{className:"command-block"},o.a.createElement(re.a,{className:"command-block-label"},t.name," Title ",c&&"(unnumbered)"," "),o.a.createElement("input",{style:{fontSize:t.size,fontWeight:t.weight},onChange:function(e){return n(l,e.target.value)},value:a,className:"section-title-field",placeholder:"Write Here..."})))},oa=function(e){var t=e.text,a=e.label;return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{className:"command-block-label"},a||t),o.a.createElement("input",{readonly:!0,style:{textAlign:"center",caretColor:"transparent",cursor:"context-menu"},value:t,className:"section-title-field"}))},ra=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ht.a,{style:{position:"absolute",top:"50%",width:"calc(100% - 15px - 15px)",left:"15px"}}),o.a.createElement(oa,{text:"",label:"Divider Block"}))},ca=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ht.a,{style:{position:"absolute",top:"50%",width:"calc(100% - 15px - 15px)",left:"15px",light:!0,vairant:"middle"}}),o.a.createElement(oa,{text:"",label:"End Block"}))},ia={maketitle:"Title Block",tableofcontents:"Table of Contents Block",newpage:"New Page Block"},ma=function(e){var t=e.text;e.id;return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{className:"command-block"},ia[t]?o.a.createElement(oa,{text:ia[t].substring(0,ia[t].length-6),label:ia[t]}):"hrule"===t?o.a.createElement(ra,null):"end"===t?o.a.createElement(ca,null):o.a.createElement(oa,{text:t})))},sa=a(47),ua=a.n(sa),da=(a(1560),a(426)),pa=a.n(da),fa=function(e){var t=e.id,a=e.text,n=e.setText,r=e.htmlcode,c=void 0!==r&&r,i=e.multiCols,s=void 0!==i&&i,u=e.setCode,d=e.colsNum,p=Object(l.useState)(pa.a.createEditorState(a)),f=Object(m.a)(p,2),g=f[0],b=f[1],E=["separator",{key:"multi-cols-num-btn",type:"button",title:"Number of columns",text:"".concat(d),onClick:function(){u(t,"multicols-".concat(5===d?2:d+1))}}];return o.a.createElement(re.a,null,o.a.createElement(pa.a,{value:g,onChange:function(e){console.log(e.toHTML()),!c||e.toHTML().startsWith(c.codeStart)?b(e):b(ua.a.EditorState.undo(e))},controls:["undo","redo","remove-styles","clear","bold","italic","underline","superscript","subscript","link"],language:"en",className:"editor",placeholder:c?"":"Write Here...",onBlur:function(){n(t,g.toHTML())},extendControls:s?E:[]}))},ga=a(676),ba=a(678),Ea=a(427),ha=a.n(Ea),xa=function(e){var t=e.code,a=e.setCode,n=e.id,r=Object(l.useState)(t),c=Object(m.a)(r,2),i=c[0],s=c[1],u=Object(l.useState)(Object(Ge.a)()),d=Object(m.a)(u,2),p=d[0],f=d[1],g=Object(l.useState)(-1),b=Object(m.a)(g,2),E=b[0],h=b[1];Object(l.useEffect)((function(){Object(Ea.forceCheck)()}),[E]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{className:"equation-block",textAlign:"center"},o.a.createElement(re.a,{className:"equation-block-content",onBlur:function(e){a(n,"["+i+"\\]")},key:p},o.a.createElement(ga.a,{value:i,onChange:function(e){s(e)},autoCommands:"pi theta sqrt sum prod alpha beta gamma rho",autoOperatorNames:"sin cos tan"})),o.a.createElement(re.a,{className:"equation-block-tool-bar"},ba.equationTools.map((function(e,t){return o.a.createElement(Ie.a,{className:"equation-block-tool-bar-button-box control-item button",disableRipple:!0,"data-title":e.title,onMouseEnter:function(){h(t)},onMouseLeave:function(){h(-1)}},o.a.createElement(Ut.MathpixLoader,null,o.a.createElement(re.a,{className:"latex-equation-display-button"},o.a.createElement(Ut.MathpixMarkdown,{text:"\\( ".concat(e.code," \\)"),display:"inline-block",className:"latex-equation-display-button"}))),o.a.createElement(re.a,{style:{display:E===t?"block":"none"},className:"equation-block-tool-bar-submenu"},e.buttonArray.map((function(e){return o.a.createElement(Ie.a,{className:"control-item button",disableRipple:!0,"data-title":e.title,onClick:function(){return t=e.code,s(i+" "+t),a(n,"["+i+t+"\\]"),void f(Ge.a);var t}},o.a.createElement(ha.a,{height:200},o.a.createElement(Ut.MathpixLoader,null,o.a.createElement(re.a,{className:"latex-equation-display-button"},o.a.createElement(Ut.MathpixMarkdown,{text:"\\( ".concat(e.code," \\)"),display:"inline-block",className:"latex-equation-display-button"})))))}))))})))))},ya=function(e){var t=e.menu,a=e.setOpenMenu,n=e.setCloseMenu,l=e.captionIndex,r=e.removeCaption,c=e.addCaption,m=e.changeCaptionPosition,s=e.captionTop,u=Object(i.a)(e,["menu","setOpenMenu","setCloseMenu","captionIndex","removeCaption","addCaption","changeCaptionPosition","captionTop"]);return o.a.createElement(re.a,u,o.a.createElement(Ie.a,{className:"equation-block-tool-bar-button-box control-item button",disableRipple:!0,"data-title":"Caption",onMouseEnter:function(){return a("caption")},onMouseLeave:function(){return n("caption")}},o.a.createElement(re.a,{className:"latex-image-display-button"},-1===l?o.a.createElement("img",{src:"https://img.icons8.com/windows/20/6a6f7b/no-chat-message.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}):o.a.createElement("img",{src:"https://img.icons8.com/windows/20/6a6f7b/chat-message.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}})),o.a.createElement(re.a,{style:{display:"caption"===t?"block":"none"},className:"image-block-tool-bar-submenu"},o.a.createElement(Ie.a,{className:"control-item button",disableRipple:!0,"data-title":"Have Caption?",onClick:function(){return-1!==l?r():c()}},o.a.createElement(re.a,{className:"latex-equation-display-button"},-1===l?o.a.createElement("img",{src:"https://img.icons8.com/windows/20/6a6f7b/no-chat-message.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}):o.a.createElement("img",{src:"https://img.icons8.com/windows/20/6a6f7b/chat-message.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))),o.a.createElement(Ie.a,{className:"control-item button",disableRipple:!0,"data-title":"Caption Place?",onClick:m,disabled:-1===l},o.a.createElement(re.a,{className:"latex-equation-display-button"},s?o.a.createElement("img",{src:"https://img.icons8.com/material-outlined/20/6a6f7b/align-cell-content-top.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}):o.a.createElement("img",{src:"https://img.icons8.com/material-outlined/20/6a6f7b/align-cell-content-bottom.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))))))},Oa=function(e){var t=e.images,a=e.id,n=(e.code,e.text),r=e.setText,c=t.find((function(e){return n.includes(e.name)})),i=Object(l.useState)(""),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(l.useState)(null),f=Object(m.a)(p,2),g=f[0],b=f[1],E=n.split("\\").filter((function(e){return 0!=e.length})),h=E.findIndex((function(e){return e.startsWith("textwidth]{")}));-1!==h&&(E[h-1]=E[h-1]+"\\"+E[h],E.splice(h,1)),E[0].startsWith("\\")||E.forEach((function(e,t){E[t]="\\"+e}));var x=E.findIndex((function(e){return e.startsWith("\\includegraphics")})),y=E.findIndex((function(e){return e.startsWith("\\centering")||e.startsWith("\\raggedright")||e.startsWith("\\raggedleft")})),O=E[x].split("width=")[1].substring(0,3).startsWith("1")?1:E[x].split("width=")[1].substring(0,3),v=E.findIndex((function(e){return e.startsWith("\\caption{")})),j=x>v,w=function(e){E[v]="\\caption{".concat(e.target.value,"}"),r(a,E.join("\r\n"))},k=function(e){if(y)E[y]="\\".concat(e);else E.splice(1,0,"\\${val}");r(a,E.join("\r\n"))};Object(l.useEffect)((function(){-1!==v&&d(E[v].split(/{|}/)[1])}),[n]);var C=function(e){b(e)},S=function(e){b(null)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{className:"image-block",py:2},o.a.createElement(re.a,null,o.a.createElement("input",{className:"image-block-input",placeholder:"Caption...",value:u,onChange:function(e){return d(e.target.value)},onBlur:w,style:{display:-1===v?"none":j?"block":"none",textAlign:"center",width:"100%",backgroundColor:"transparent",fontSize:"15px",padding:"5px 0"}}),o.a.createElement("input",{className:"image-block-input",readonly:!0,style:{textAlign:"center",caretColor:"transparent",cursor:"context-menu",background:"url(".concat(c.url,") no-repeat top"),backgroundSize:"contain",backgroundPosition:"".concat(E[y].startsWith("\\raggedright")?"left":E[y].startsWith("\\centering")?"center":"right"),width:"calc(100% - 5px)",paddingBottom:"".concat(100*O*.8,"%")}}),o.a.createElement("input",{className:"image-block-input",placeholder:"Caption...",value:u,onChange:function(e){return d(e.target.value)},onBlur:w,style:{display:-1===v||j?"none":"block",textAlign:"center",width:"100%",backgroundColor:"transparent",fontSize:"15px",padding:"5px 0"}})),o.a.createElement(re.a,{className:"image-block-tool-bar"},o.a.createElement(ya,{menu:g,setOpenMenu:C,setCloseMenu:S,captionIndex:v,removeCaption:function(e){if(-1!==v){E.splice(v,1);r(a,E.join("\r\n"))}},addCaption:function(e){if(-1===v){E.splice(1,0,"\\caption{}");r(a,E.join("\r\n"))}},changeCaptionPosition:function(){if(-1!==v){var e=E[v];E.splice(v,1),j?E.splice(-1,0,e):E.splice(1,0,e),r(a,E.join("\r\n"))}},captionTop:j}),o.a.createElement(Ie.a,{className:"equation-block-tool-bar-button-box control-item button",disableRipple:!0,"data-title":"Image Align",onMouseEnter:function(){return C("imageAlign")},onMouseLeave:S},o.a.createElement(re.a,{className:"latex-image-display-button"},o.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-regular/20/6a6f7b/align-left.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}})),o.a.createElement(re.a,{style:{display:"imageAlign"===g?"block":"none"},className:"image-block-tool-bar-submenu"},o.a.createElement(Ie.a,{className:E[y].startsWith("\\raggedright")?"control-item button active":"control-item button",disableRipple:!0,"data-title":"Align Left",onClick:function(){return k("raggedright")}},o.a.createElement(re.a,{className:"latex-equation-display-button"},o.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-regular/20/6a6f7b/align-left.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))),o.a.createElement(Ie.a,{className:E[y].startsWith("\\centering")?"control-item button active":"control-item button",disableRipple:!0,"data-title":"Align Center",onClick:function(){return k("centering")}},o.a.createElement(re.a,{className:"latex-equation-display-button"},o.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-regular/20/6a6f7b/align-center.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))),o.a.createElement(Ie.a,{className:E[y].startsWith("\\raggedleft")?"control-item button active":"control-item button",disableRipple:!0,"data-title":"Align Right",onClick:function(){return k("raggedleft")}},o.a.createElement(re.a,{className:"latex-equation-display-button"},o.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-regular/20/6a6f7b/align-right.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))))),o.a.createElement(Ie.a,{className:"equation-block-tool-bar-button-box control-item button",disableRipple:!0,"data-title":"Line Width ".concat(O),onClick:function(){return function(){console.log(E),console.log(O);var e=parseFloat(O)+.1;e>1&&(e=.1),e=Math.round(10*e)/10,E[x]=E[x].replace(O,e),r(a,E.join("\r\n"))}()}},o.a.createElement(re.a,{className:"latex-image-display-button"},o.a.createElement("img",{src:"https://img.icons8.com/material-outlined/20/6a6f7b/resize.png",style:{maxWidth:"100%",maxHeight:"100%",marginLeft:"2px",marginTop:"8px"}}))))))},va=a(679),ja=a.n(va),wa=(a(1575),function(e){var t=e.id,a=e.text,n=e.setText,r=Object(l.useState)(a),c=Object(m.a)(r,2),i=c[0],s=c[1];return o.a.createElement(re.a,null,o.a.createElement(ja.a,{height:"auto",setContents:i,onChange:function(e){console.log(e),s(e)},language:"en",className:"editor",onBlur:function(e){console.log("blur"),console.log(e.target.innerHTML),n(t,e.target.innerHTML)},setOptions:{mode:"balloon-always",buttonList:[["undo","redo","table"]],placeholder:"Please Insert Table..."}}))}),ka=function(e){var t=e.id,a=e.text,n=e.setText,l=e.code,r=e.setCode,c=parseInt(l.split("-")[1]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{className:"command-block"},o.a.createElement(re.a,{className:"command-block-label"},"Mutiple Columns - ",c),o.a.createElement(fa,{key:t+"content",text:a,setText:n,id:t,multiCols:!0,colsNum:c,setCode:r})))},Ca=Object(xe.a)((function(e){return{toolbar:{position:"fixed",top:"60px",left:"10px",zIndex:999}}})),Sa=function(e){var t=e.doc,a=e.showCompiler,n=e.changeShowCompiler,r=e.pushAndCompile,c=e.updateDocument,i=e.width,s=(e.setDoc,e.uploadImages),u=Ca(),d=pe()(t.latex).pick(["contents"]).value().contents,p=Object(l.useState)(d),f=Object(m.a)(p,2),g=f[0],b=f[1],E=function(e,t){if(g[e].text!==t){var a=pe.a.cloneDeep(g);a[e].text=t,b(a)}},h=function(e,t){if(g[e].code!==t){var a=pe.a.cloneDeep(g);a[e].code=t,b(a)}},x=function(e){return fe.store.addNotification({message:e,type:"danger",insert:"top",container:"top-center",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3}}),!1},y=function(){(function(e){switch(console.log("checking..."),console.log(e),t.latex.documentclass){case"article":case"report":case"chapter":return!0;case"beamer":for(var a=0,n=["begin{frame}","begin{block}","begin{alertblock}","begin{exampleblock}"],l=0;l<e.length;l++)if(n.includes(e[l].code)&&a++,"end"===e[l].code&&--a<0)return x("End Block Put Wrong Places");return 0==a||x("End Block Missed")}return x("UnExpected")})(g)&&r({contents:g})};return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{className:u.toolbar},o.a.createElement(na,{showCompiler:a,changeShowCompiler:n,pushAndCompile:r,doc:t,updateDocument:c,setBox:function(e,t){var a=pe.a.cloneDeep(g);a.push({id:Object(Ge.a)(),code:e,text:t||""}),b(a)},onSave:y,uploadImages:s})),o.a.createElement(re.a,{style:{position:"absolute",top:60,left:a?["xs","sm","md"].includes(i)?"calc(100vw - 10px - 16px)":"calc(50vw - 10px - 16px)":"calc(100vw - 10px - 16px)",transform:"translateX(-100%)",zIndex:500}},o.a.createElement(we.a,{title:"Recompile","aria-label":"Recompile",placement:"top"},o.a.createElement(ce.a,{size:"medium",onClick:y,color:"primary"},o.a.createElement(gt.a,{style:{color:"white"}})))),o.a.createElement(re.a,{style:{overflowY:"scroll",height:"100%"}},o.a.createElement(re.a,{style:{boxSizing:"border-box",padding:"1.5em",margin:"2em",background:"white",minHeight:"calc(100% - 3em)",width:"calc(100% - 3em - 16px)"}},o.a.createElement(ht.DragDropContext,{onDragEnd:function(e){var t=e.source,a=e.destination;e.draggableId;if(a){var n=pe.a.cloneDeep(g),l=n.splice(t.index,1),o=Object(m.a)(l,1)[0];n.splice(a.index,0,o),b(n)}}},o.a.createElement(ht.Droppable,{droppableId:"d"},(function(e){return o.a.createElement(re.a,Object.assign({ref:e.innerRef},e.droppableProps),g.map((function(e,a){return o.a.createElement(ht.Draggable,{draggableId:a.toString(),index:a},(function(n){return o.a.createElement(re.a,Object.assign({ref:n.innerRef},n.draggableProps,{key:e.id+"box",className:"editor-big-block"}),o.a.createElement(re.a,Object.assign({},n.dragHandleProps,{className:"editor-block-handler"}),o.a.createElement(Et.a,null)),o.a.createElement("button",{onClick:function(){return function(e){var t=pe.a.cloneDeep(g);t.splice(e,1),b(t)}(a)},className:"editor-block-deleter"},o.a.createElement(le.a,null)),e.code?zt.beamer[e.code]?o.a.createElement(la,{key:e.id+"title",info:zt.beamer[e.code],text:e.text,setText:E,id:a}):zt.beamer[e.code.slice(0,-1)]?o.a.createElement(la,{key:e.id+"title",info:zt.beamer[e.code.slice(0,-1)],star:!0,text:e.text,setText:E,id:a}):zt.dict[e.code]?o.a.createElement(la,{key:e.id+"title",info:zt.dict[e.code],text:e.text,setText:E,id:a}):zt.dict[e.code.slice(0,-1)]||zt.beamer[e.code.slice(0,-1)]?o.a.createElement(la,{key:e.id+"title",info:zt.dict[e.code.slice(0,-1)],star:!0,text:e.text,setText:E,id:a}):e.code.startsWith("[")&&e.code.endsWith("]")?o.a.createElement(xa,{key:e.id+"equationBlk",code:e.code.slice(1,-2),setCode:h,id:a}):"figure"===e.code?o.a.createElement(Oa,{key:e.id+"image",text:e.text,setText:E,id:a,images:t.latex.images}):"table"===e.code?o.a.createElement(wa,{key:e.id+"table",text:e.text,setText:E,id:a}):e.code.startsWith("multicols")?o.a.createElement(ka,{key:e.id+"multiColsBlk",text:e.text,id:a,setText:E,code:e.code,setCode:h}):o.a.createElement(ma,{key:e.id+"cmdBlk",text:e.code,id:a}):pe.a.findKey(zt.htmlcode,(function(t){return e.text.startsWith(t.codeStart)}))?o.a.createElement(fa,{key:e.id+"content",text:e.text,setText:E,id:a,htmlcode:zt.htmlcode[pe.a.findKey(zt.htmlcode,(function(t){return e.text.startsWith(t.codeStart)}))]}):o.a.createElement(fa,{key:e.id+"content",text:e.text,setText:E,id:a}))}))})))}))))))},Ta=a(681),Ia=a(305),Ra=function(e){var t=e.loading,a=Object(b.a)();return console.log(t),o.a.createElement(Ia.Spring,{native:!0,from:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100vw",height:"100vh",backgroundColor:a.palette.primary.main,zIndex:9999,position:"fixed",opacity:1},to:t?{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100vw",height:"100vh",backgroundColor:a.palette.primary.main,zIndex:9999,position:"fixed",opacity:1}:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"0vw",height:"0vh",backgroundColor:a.palette.primary.main,zIndex:-9999,position:"fixed",opacity:0},toggle:t},(function(e){return o.a.createElement(Ia.animated.div,{style:e},o.a.createElement(Ta.WaveTopBottomLoading,{color:"white"}))}))},Na=a(684),Pa=a.n(Na),Da=a(685),Aa=a.n(Da);function La(){var e=Object(s.a)(["\n    mutation($repo_name: String!, $name: String!, $file_type: String!, $base64: String!){\n      uploadImage(input: {repo_name: $repo_name, name: $name, file_type: $file_type, base64: $base64}){\n        url\n        name\n      }\n    }\n"]);return La=function(){return e},e}function Fa(){var e=Object(s.a)(["\n  ","\n  mutation($name: String!, $input: LaTeXDocUpdateInput!) {\n    document(name: $name) {\n      updateLaTeX(input: $input){\n        ...DocumentFragment\n      }\n    }\n  }\n"]);return Fa=function(){return e},e}function _a(){var e=Object(s.a)(["\n  ","\n  query($name: String!) {\n    document(name: $name) {\n      ...DocumentFragment\n    }\n  }\n"]);return _a=function(){return e},e}function Wa(){var e=Object(s.a)(["\n  fragment DocumentFragment on Document {\n    id\n    name\n    description\n    pushedAt\n    createdAt\n    isPrivate\n    url\n    latex {\n      documentclass\n      titles {\n        title\n        author\n        date\n        always_today\n      }\n      setting {\n        fontSize\n        lineHeight\n        firstLineIndentation\n      }\n      contents {\n        id\n        code\n        text\n      }\n      images {\n        name \n        url\n      }\n      latex_code\n    }\n  }\n"]);return Wa=function(){return e},e}var Ba=he()(Wa()),Ha=he()(_a(),Ba),Ua=he()(Fa(),Ba),za=Object(xe.a)((function(e){return{toolbar:{height:"50px",position:"fixed",top:"50px",zIndex:9999},editor:{height:"calc(100vh - 50px)",backgroundColor:"#efefef"},compiler:{height:"calc(100vh - 50px)",backgroundColor:"grey"}}})),qa=he()(La()),Ma=Object(p.c)((function(e){return{USER_PROFILE:e.USER_PROFILE}}))(Object(ie.a)()((function(e){var t=e.width,a=e.match,n=za(),r=Object(l.useState)(!["xs","sm","md"].includes(t)),c=Object(m.a)(r,2),i=c[0],s=c[1],u=Object(l.useState)(null),d=Object(m.a)(u,2),p=d[0],f=d[1],g=Object(l.useState)(Object(Ge.a)()),b=Object(m.a)(g,2),E=b[0],h=b[1],x=Object(l.useState)(!0),y=Object(m.a)(x,2),O=y[0],j=y[1],w=a.params,k=(Object(ue.b)(Ha,{onCompleted:function(e){console.log(e),f(e.document),j(!1)},onError:be,variables:{name:w.id},fetchPolicy:"no-cache"}).loading,Object(ue.a)(Ua,{onCompleted:function(e){console.log(e),f(e.document.updateLaTeX),h(Object(Ge.a)()),j(!1)},onError:be,variables:{name:w.id},fetchPolicy:"no-cache"})),C=Object(m.a)(k,2),S=C[0],T=(C[1].loading,function(){s(!i)}),I=Object(ue.a)(qa,{onCompleted:function(e){console.log(p),f(Object(v.a)(Object(v.a)({},p),{},{latex:Object(v.a)(Object(v.a)({},p.latex),{},{images:[].concat(Object(dt.a)(p.latex.images),[e.uploadImage])})}))},onError:be,variables:{repo_name:w.id,name:Object(Ge.a)()},fetchPolicy:"no-cache"}),R=Object(m.a)(I,2),N=R[0];R[1].loading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ra,{loading:O}),!O&&o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{style:{position:"absolute",top:"calc(60px + 48px + 16px)",left:i?["xs","sm","md"].includes(t)?"calc(100vw - 10px - 16px)":"calc(50vw - 10px - 16px)":"calc(100vw - 10px - 16px)",transform:"translateX(-100%)",zIndex:500}},o.a.createElement(we.a,{title:"Show Compiler?","aria-label":"Show Compiler?",placement:"top"},o.a.createElement(ce.a,{size:"medium",color:"primary",onClick:T},i?o.a.createElement(Pa.a,{style:{color:"white"}}):o.a.createElement(Aa.a,{style:{color:"white"}})))),o.a.createElement(je.a,{container:!0},o.a.createElement(je.a,{item:!0,xs:12,lg:i?6:12,className:n.editor,style:{display:i&&["xs","sm","md"].includes(t)?"none":"block"}},o.a.createElement(Sa,{doc:p,showCompiler:i,changeShowCompiler:T,pushAndCompile:function(e){console.log(e),j(!0),S({variables:{input:e}})},updateDocument:S,width:t,uploadImages:N})),o.a.createElement(je.a,{item:!0,xs:12,lg:6,className:n.compiler,style:{display:i?"block":"none"}},o.a.createElement(pt,{doc:p,key:E})))))}))),$a=a(2),Xa=a(1652),Za=a(431),Ga=(Object(xe.a)((function(e){return{section:{paddingTop:"0.3rem",textAlign:"center"},footer:{height:"25px",width:"100%",backgroundColor:"#ffe7bd",position:"sticky",bottom:"0px"}}})),a(195)),Ka=a.n(Ga),Ya=a(322),Va=a(1663),Ja=a(295),Qa=a(1662),en="SET_TOKEN",tn="LOGIN",an="UPDATE_PROFILE",nn="LOADING",ln="ERROR",on="HIDE_ERROR",rn="LOGOUT",cn=function(){return{type:rn}},mn=a(686),sn=a.n(mn),un=Object(xe.a)((function(e){return{header:{height:"50px",width:"100%",position:"fixed",top:0,boxShadow:"0 2px 5px 0 rgba(184,134,11,.3)",zIndex:1200}}})),dn=function(e){var t=e.USER_PROFILE,a=e.client,n=e.dispatch,l=o.a.useState(null),r=Object(m.a)(l,2),c=r[0],i=r[1],s=Boolean(c),u=function(){var e=Object(Ya.a)(Ka.a.mark((function e(){return Ka.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("lattex-token"),e.next=3,a.stop();case 3:return e.next=5,a.clearStore();case 5:n(cn());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ie.a,{size:"small",onClick:function(e){i(e.currentTarget)},startIcon:o.a.createElement(Va.a,{src:t.avatarUrl})},t.name),o.a.createElement(Ja.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:function(){i(null)}},o.a.createElement(vt.a,{button:!0,onClick:u,zIndex:"2000"},o.a.createElement(E.a,{color:"inherit"},"logout"))))},pn=Object(p.c)((function(e){return{AUTHORIZED:e.AUTHORIZED,USER_PROFILE:e.USER_PROFILE}}))(Object(Qa.a)(Object(d.h)((function(e){var t=e.AUTHORIZED,a=e.USER_PROFILE,n=e.client,l=e.dispatch,r=un(),c=Object(b.a)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{className:r.header,style:{background:c.palette.primary.opposite}},o.a.createElement(re.a,{display:"flex",style:{padding:"0 30px",height:"100%",alignItems:"center"}},o.a.createElement(u.b,{to:f.APP_PATHS.EDITORS,style:{height:"70%"}},o.a.createElement("img",{src:sn.a,height:"100%"})),o.a.createElement(re.a,{flexGrow:1}),t?o.a.createElement(dn,{USER_PROFILE:a,client:n,dispatch:l}):o.a.createElement(o.a.Fragment,null))))})))),fn=a(297),gn=a.n(fn),bn=Object(xe.a)((function(e){return{button:{backgroundColor:"#000000",color:"white",writingMode:"vertical-rl",textOrientation:"sideways",transform:"rotate(-180deg)"},text:{display:"grid",alignItems:"center",flexDirection:"column"}}})),En=function(){var e=bn(),t=["user","repo","delete_repo"].join(",");return o.a.createElement(Ie.a,{variant:"contained",className:e.button,href:"https://github.com/login/oauth/authorize?client_id=".concat("91ba4217f7895ed7e855","&redirect_uri=").concat("https://HoTszYanAnn.github.io/lattex","&scope=").concat(t)},o.a.createElement("span",{className:e.text},o.a.createElement(gn.a,{style:{transform:"rotate(90deg)"},fontSize:"small"})),o.a.createElement(re.a,{mb:1}),o.a.createElement("span",null,"Login with Github"))},hn=Object(xe.a)((function(e){return{button:{backgroundColor:"#000000",color:"white",display:"grid",alignItems:"center",justifyContent:"center",padding:"1rem 0"},grid:{display:"grid",alignItems:"center",justifyContent:"center"},text:{writingMode:"vertical-rl",textOrientation:"sideways",transform:"rotate(180deg)"}}})),xn=function(){var e=hn(),t=Object(d.g)();return o.a.createElement(Ie.a,{variant:"contained",className:e.button,onClick:function(){return t.push(f.APP_ROUTES.EDITORS)}},o.a.createElement("span",{className:e.text}," Goto Editor"),o.a.createElement(re.a,{mb:1}),o.a.createElement("span",{className:e.grid},o.a.createElement(z.a,{fontSize:"small",style:{transform:"rotate(-90deg)"}})))},yn=Object(p.c)((function(e){return{AUTHORIZED:e.AUTHORIZED,USER_PROFILE:e.USER_PROFILE}}))((function(e){var t=e.AUTHORIZED;return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{style:{zIndex:999,position:"fixed",top:"50%",left:0,transform:"translate(0, -50%)"}},t?o.a.createElement(xn,null):o.a.createElement(En,null)))})),On=Object(xe.a)((function(e){return{footer:{height:"50px",width:"calc(100vw - 100px)",backgroundColor:"#ffffff",position:"fixed",bottom:"0px",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center"}}})),vn=function(){var e=On(),t=Object(b.a)();return o.a.createElement(re.a,{display:"flex",className:e.footer,style:{background:t.palette.primary.opposite}},"2020/2021 CUHK CSE FYP MHW2003")},jn=a(687),wn=a.n(jn),kn=Object(xe.a)((function(e){return{header:{width:"calc(100vw - 100px - 16px)",height:"50px",position:"fixed",top:0,zIndex:1}}})),Cn=Object(p.c)((function(e){return{AUTHORIZED:e.AUTHORIZED,USER_PROFILE:e.USER_PROFILE}}))(Object(Qa.a)(Object(d.h)((function(e){e.AUTHORIZED,e.USER_PROFILE,e.client,e.dispatch;var t=kn(),a=Object(b.a)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{display:"flex",className:t.header,style:{background:a.palette.primary.opposite}},o.a.createElement(E.a,{variant:"h4",component:u.b,to:f.APP_PATHS.HOME,style:{textDecoration:"none"},color:"black"},o.a.createElement("img",{src:wn.a,height:"100%"})),o.a.createElement(re.a,{flexGrow:1})))})))),Sn=a(1626),Tn=a(1620),In=a(514),Rn=a(688),Nn=a.n(Rn),Pn=Object(xe.a)((function(e){return{box:{backgroundColor:e.palette.primary.main},nested:{paddingLeft:e.spacing(4),color:"white"},item:{color:"white"},divider:{background:"white"},extendedIcon:{marginRight:e.spacing(2)}}})),Dn=function(){var e=Pn();return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{my:5})," ",o.a.createElement(re.a,{display:"flex",justifyContent:"center"},o.a.createElement(ce.a,{variant:"extended",size:"medium"},o.a.createElement(Nn.a,{className:e.extendedIcon}),"\xa0\xa0\xa0\xa0Import")),o.a.createElement(re.a,{my:3}),o.a.createElement(Ht.a,{variant:"middle",classes:{root:e.divider}}),o.a.createElement(re.a,null,o.a.createElement(Sn.a,{component:"nav","aria-label":"secondary mailbox folders"},o.a.createElement(Tn.a,{button:!0,className:e.item},o.a.createElement(In.a,{primary:"My Document"}))),o.a.createElement(Ht.a,{variant:"middle",classes:{root:e.divider}}),o.a.createElement(Sn.a,{component:"nav","aria-label":"main mailbox folders"},o.a.createElement(Tn.a,{button:!0,className:e.item},o.a.createElement(In.a,{primary:"Template"})),o.a.createElement(Tn.a,{button:!0,className:e.nested},o.a.createElement(In.a,{primary:"All"})),o.a.createElement(Tn.a,{button:!0,className:e.nested},o.a.createElement(In.a,{primary:"Bookmarked"})))))},An=Object(Za.a)((function(e){return{root:{paddingTop:"50px",height:"calc(100vh - 50px)",width:"100vw"},paddingTop:{paddingTop:e.spacing(2)},paddingBottom:{paddingBottom:e.spacing(2)},noPaddingX:{paddingLeft:0,paddingRight:0}}})),Ln=function(e){var t,a=e.children,n=e.layoutComponent,l=void 0===n?re.a:n,r=(e.layoutMaxWidth,e.layoutPaddingTop,e.layoutPaddingBottom,e.noPaddingX),c=void 0!==r&&r,i=An();return o.a.createElement(o.a.Fragment,null,o.a.createElement(pn,null),o.a.createElement(Xa.a,{component:l,maxWidth:!1,className:Object($a.a)((t={},Object(Ne.a)(t,i.root,!0),Object(Ne.a)(t,i.noPaddingX,c),t))},a))},Fn=function(e){var t=e.children;return o.a.createElement(Ln,{layoutMaxWidth:!1,layoutPaddingTop:!1,layoutPaddingBottom:!1,noPaddingX:!0},t)},_n=function(e){var t=e.children,a=e.layoutComponent,n=(void 0===a&&re.a,e.layoutMaxWidth,e.layoutPaddingTop,e.layoutPaddingBottom,e.noPaddingX,An(),Object(b.a)());return o.a.createElement(o.a.Fragment,null,o.a.createElement(re.a,{style:{width:"calc(100vw - 100px - 16px)",padding:"0 50px"}},o.a.createElement(Cn,null),o.a.createElement(yn,null),o.a.createElement(re.a,{style:{width:"50px",height:"100vh",left:0,position:"fixed",backgroundColor:n.palette.primary.opposite,zIndex:500}}),t,o.a.createElement(re.a,{style:{width:"50px",height:"100vh",right:16,position:"fixed",backgroundColor:n.palette.primary.opposite,zIndex:999}}),o.a.createElement(vn,null)))},Wn=function(e){var t,a=e.children,n=e.layoutComponent,l=void 0===n?re.a:n,r=e.layoutMaxWidth,c=void 0===r?"md":r,i=e.layoutPaddingTop,m=void 0===i||i,s=e.layoutPaddingBottom,u=void 0===s||s,d=e.noPaddingX,p=void 0!==d&&d,f=An(),g=Object(b.a)();return o.a.createElement(o.a.Fragment,null,o.a.createElement(pn,null),o.a.createElement(re.a,{style:{whiteSpace:"nowrap"}},o.a.createElement(re.a,{display:"inline-block",style:{width:225,height:"calc(100vh - 100px)",paddingTop:"100px",verticalAlign:"top",background:g.palette.primary.main}},o.a.createElement(Dn,null)),o.a.createElement(re.a,{display:"inline-block",style:{width:"calc(100vw - 16px - 225px)",minWidth:900,height:"100%",overflowInline:"scroll"}},o.a.createElement(Xa.a,{component:l,maxWidth:c,className:Object($a.a)((t={},Object(Ne.a)(t,f.root,!0),Object(Ne.a)(t,f.paddingTop,m),Object(Ne.a)(t,f.paddingBottom,u),Object(Ne.a)(t,f.noPaddingX,p),t)),style:{height:"100vh",paddingTop:"100px"}},a))))},Bn=a(70).APP_ROUTES,Hn=function(e){Object(_e.a)(a,e);var t=Object(We.a)(a);function a(e){var n;return Object(Ae.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(Le.a)(a,[{key:"componentDidCatch",value:function(e,t){this.props.history.push(Bn.NOT_FOUND)}},{key:"render",value:function(){return this.state.hasError&&this.props.history.push(Bn.NOT_FOUND),this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),a}(o.a.Component),Un=Object(d.h)(Hn),zn=a(420),qn=a(689),Mn=a.n(qn);function $n(){var e=Object(s.a)(["\n  query {\n    me {\n      avatarUrl\n      name\n    }\n  }\n"]);return $n=function(){return e},e}function Xn(){var e=Object(s.a)(["\n  mutation($code: String!) {\n    authenticate(code: $code)\n  }\n"]);return Xn=function(){return e},e}he()(Xn());var Zn=he()($n()),Gn=function(e){return function(t){return function(a){return o.a.createElement(Un,null,o.a.createElement(e,null,o.a.createElement(t,a)))}}},Kn=function(e){var t=e.AUTHORIZED;e.USER_PROFILE;return o.a.createElement(u.a,null,console.log(t),o.a.createElement(d.d,null,o.a.createElement(d.b,{exact:!0,component:Gn(_n)(O),path:f.APP_PATHS.HOME}),o.a.createElement(Yn,{exact:!0,condition:t,component:Gn(Wn)(ut),path:f.APP_PATHS.EDITORS}),o.a.createElement(Yn,{exact:!0,condition:t,component:Gn(Fn)(Ma),path:f.APP_PATHS.EDITOR})))},Yn=function(e){var t=e.component,a=e.condition,n=e.redirect,l=Object(i.a)(e,["component","condition","redirect"]);return o.a.createElement(d.b,Object.assign({},l,{render:function(e){return a?o.a.createElement(t,e):o.a.createElement(d.a,{to:n||f.APP_PATHS.HOME})}}))},Vn=Object(d.h)(Object(p.c)((function(e){return{AUTHORIZED:e.AUTHORIZED,TOKEN:e.TOKEN,USER_PROFILE:e.USER_PROFILE}}))((function(e){var t=e.dispatch,a=e.AUTHORIZED,n=e.TOKEN,r=e.USER_PROFILE,c=e.history,i=e.location,s=Object(l.useState)(!1),u=Object(m.a)(s,2),d=u[0],p=u[1];console.log(n);var g=function(e){e?(localStorage.setItem("lattex-token",e),t({type:en,payload:e}),h()):(t(cn()),p(!0))},b=Object(zn.a)(Zn,{onCompleted:function(e){var a=e.me;console.log(e),a?(t(function(e){return{type:tn,payload:e}}(a)),c.push(window.location.pathname),p(!0)):(localStorage.removeItem("lattex-token"),t(cn()),c.push(window.location.pathname))},onError:function(e){be(e),localStorage.removeItem("lattex-token"),t(cn()),p(!0)}}),E=Object(m.a)(b,2),h=E[0],x=E[1].loading;return Object(l.useEffect)((function(){t({type:nn,payload:{id:"root-loader"||void 0,status:x}})}),[x]),Object(l.useEffect)((function(){if(n)h();else{var e=Mn.a.parse(i.search).code;e?function(e){fetch("".concat("https://lattex-fyp.herokuapp.com/","authenticate?code=").concat(e)).then((function(e){return e.json()})).then((function(e){g(null===e||void 0===e?void 0:e.access_token),c.push(f.APP_PATHS.EDITORS)}),(function(e){localStorage.removeItem("lattex-token"),t(cn()),c.push(window.location.pathname),p(!0)}))}(e):(t(cn()),p(!0))}}),[]),d?o.a.createElement(Kn,{AUTHORIZED:a,USER_PROFILE:r}):null}))),Jn=(a(1614),Object(p.c)((function(e){return{ERROR:e.ERROR,TOKEN:e.TOKEN}}))((function(e){e.dispatch;var t=e.TOKEN;e.ERROR;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,null),o.a.createElement(Vn,{key:t}))}))),Qn=a(238);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var el,tl=a(178),al=a(1645),nl=a(72),ll=a(429),ol=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t.type===nn){var a=e.find((function(e){return e.id===t.payload.id}));return[].concat(a?Object(dt.a)(e.filter((function(e){return e.id!==t.payload.id}))):Object(dt.a)(e),[t.payload])}return e},rl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage.getItem("lattex-token"),t=arguments.length>1?arguments[1]:void 0;return t.type===en?t.payload:t.type===rn?null:e},cl=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===tn||t.type!==rn&&e},il=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===tn?t.payload:t.type===an?pe.a.merge(e,t.payload):t.type===rn?{}:e},ml=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1},t=arguments.length>1?arguments[1]:void 0;if(t.type===ln&&t.payload.response)e=Object(v.a)(Object(v.a)({},t.payload.response.data),{},{show:!0});else if(t.type!==ln||t.payload.response)t.type===on&&(e=Object(v.a)(Object(v.a)({},e),{},{show:!1}));else{var a={code:"DEFAULT_ERROR",message:t.payload};e=Object(v.a)(Object(v.a)({},a),{},{show:!0})}return e},sl=function(e){return Object(nl.c)(Object(v.a)({router:Object(Qn.b)(e)},n))},ul=a(96),dl=a(640),pl=Object(ul.a)(),fl=a(15),gl=a(58),bl=a(691),El=a(692),hl=a(690),xl=Object(El.a)({uri:"https://lattex-fyp.herokuapp.com/graphql"}),yl=Object(hl.a)((function(e,t){var a=t.headers,n=localStorage.getItem("lattex-token");return{headers:Object(v.a)(Object(v.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),Ol=new gl.a({link:yl.concat(xl),cache:new bl.a({addTypename:!1}),defaultOptions:{query:{fetchPolicy:"no-cache",errorPolicy:"all"},mutate:{fetchPolicy:"no-cache",errorPolicy:"all"}},fetchOptions:{mode:"no-cors"}}),vl=(a(1615),window.__REDUX_DEVTOOLS_EXTENSION__?Object(nl.e)(sl(pl),el,Object(nl.d)(Object(nl.a)(Object(dl.a)(pl),ll.a),window.__REDUX_DEVTOOLS_EXTENSION__())):Object(nl.e)(sl(pl),el,Object(nl.d)(Object(nl.a)(Object(dl.a)(pl),ll.a)))),jl=Object(tl.a)({palette:{primary:{main:"#F8B21C",opposite:"#ffffff"}},typography:{fontFamily:"Inika"}});c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(al.a,{theme:jl},o.a.createElement(p.a,{store:vl},o.a.createElement(fl.b,{client:Ol},o.a.createElement(Qn.a,{history:pl},o.a.createElement(Jn,null)))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t){t.dict={part:{name:"Part",left:"",size:"2.2rem",weight:"bold"},chapter:{name:"Chapter",left:"",size:"1.45rem",weight:"bold"},section:{name:"Section",left:"",size:"1.45rem",weight:"bold"},subsection:{name:"Subsection",left:"",size:"1.2rem",weight:"bold"},subsubsection:{name:"Subsubsection",left:"",size:"1rem",weight:"bold"},paragraph:{name:"Paragraph",left:"",size:"1.2rem",weight:"bold"},subparagraph:{name:"Subparagraph",left:"1em",size:"1rem",weight:"bold"}},t.beamer={"begin{frame}":{name:"Frame",left:"",size:"1.2rem",weight:"bold"},"begin{block}":{name:"Block",left:"",size:"1rem",weight:""},"begin{alertblock}":{name:"AlertBlock",left:"",size:"1rem",weight:""},"begin{exampleblock}":{name:"ExampleBlock",left:"",size:"1rem",weight:""}},t.htmlcode={"<ol><li>":{name:"Numbered List",codeStart:"<ol><li>",codeEnd:"</ol></li>"},"<ul><li>":{name:"Unnumbered List",codeStart:"<ul><li>",codeEnd:"</ul></li>"},"<blockquote>":{name:"Quote",codeStart:"<blockquote>",codeEnd:"</blockquote>"},"<pre><code>":{name:"Code",codeStart:"<pre><code>",codeEnd:"</code></pre>"}}},649:function(e,t,a){e.exports=a.p+"static/media/lattex.bfd7e103.svg"},665:function(e,t,a){e.exports=a.p+"static/media/article-1.11ca0cfa.jpg"},666:function(e,t,a){e.exports=a.p+"static/media/report-1.0735bd79.jpg"},667:function(e,t,a){e.exports=a.p+"static/media/beamer-1.ef23a87f.jpg"},678:function(e,t){t.equationTools=[{title:"Symbol",code:"+",buttonArray:[{title:"Plus",code:"+"},{title:"Minus",code:"-"},{title:"Times",code:"\\times"},{title:"Divide",code:"\\div"},{code:"\\mp",title:""},{code:"\\pm",title:""},{code:"\\cap",title:""},{code:"\\cup",title:""},{code:"\\neq",title:""},{code:"\\leq",title:""},{code:"\\geq",title:""},{code:"\\perp",title:""},{code:"\\notin",title:""},{code:"\\subset",title:""},{code:"\\simeq",title:""},{code:"\\approx",title:""},{code:"\\wedge",title:""},{code:"\\vee",title:""},{code:"\\oplus",title:""},{code:"\\otimes",title:""},{code:"\\Box",title:""},{code:"\\boxtimes",title:""},{code:"\\equiv",title:""},{code:"\\cong",title:""},{code:"\\infty",title:""},{code:"\\Re",title:""},{code:"\\nabla",title:""},{code:"\\partial",title:""},{code:"\\emptyset",title:""},{code:"\\wp",title:""},{code:"\\neg",title:""},{code:"\\square",title:""},{code:"\\blacksquare",title:""},{code:"\\forall",title:""},{code:"\\Im",title:""},{code:"\\exists",title:""},{code:"\\nexists",title:""},{code:"\\varnothing",title:""},{code:"\\complement",title:""},{code:"\\cdots",title:""},{code:"\\surd",title:""},{code:"\\triangle",title:""}]},{title:"Letter",code:"\\beta",buttonArray:[{title:"Beta",code:"\\beta"},{title:"Alpha",code:"\\alpha"},{title:"Gamma",code:"\\gamma"},{title:"Delta",code:"\\delta"},{title:"Epsilon",code:"\\epsilon"},{title:"Epsilon",code:"\\epsilon"},{title:"Zeta",code:"\\zeta"},{title:"Eta",code:"\\eta"},{title:"Iota",code:"\\iota"},{title:"Kappa",code:"\\kappa"},{title:"Lambda",code:"\\lambda"},{title:"Nu",code:"\\nu"},{title:"Xi",code:"\\xi"},{title:"Pi",code:"\\pi"},{title:"Sigma",code:"\\sigma"},{title:"Tau",code:"\\tau"},{title:"Upsilon",code:"\\upsilon"},{title:"Phi",code:"\\phi"},{title:"Phi",code:"\\Phi"},{title:"Varphi",code:"\\varphi"},{title:"Psi",code:"\\psi"},{title:"Psi",code:"\\Psi"},{title:"Omega",code:"\\omega"},{title:"Omega",code:"\\Omega"},{title:"Rho",code:"\\rho"},{title:"Theta",code:"\\theta"}]},{title:"Arrow",code:"\\leftarrow",buttonArray:[{title:"Left Arrow",code:"\\leftarrow"},{title:"Left Arrow",code:"\\Leftarrow"},{title:"Right Arrow",code:"\\rightarrow"},{title:"Right Arrow",code:"\\Rightarrow"},{title:"Up Arrow",code:"\\uparrow"},{title:"Up Arrow",code:"\\Uparrow"},{title:"Down Arrow",code:"\\downarrow"},{title:"Down Arrow",code:"\\Downarrow"},{title:"Left Right Arrow",code:"\\leftrightarrow"},{title:"Left Right Arrow",code:"\\Leftrightarrow"},{title:"Up Down Arrow",code:"\\updownarrow"},{title:"Up Down Arrow",code:"\\Updownarrow"},{title:"Map Sto",code:"\\mapsto"},{title:"Long Map Sto",code:"\\longmapsto"},{title:"NE Arrow",code:"\\nearrow"},{title:"SE Arrow",code:"\\searrow"},{title:"SW Arrow",code:"\\swarrow"},{title:"NW Arrow",code:"\\nwarrow"},{title:"Left Harpoon Up",code:"\\leftharpoonup"},{title:"Right Harpoon Up",code:"\\rightharpoonup"},{title:"Left Harpoon Down",code:"\\leftharpoondown"},{title:"Left Harpoon Down",code:"\\rightharpoondown"}]},{title:"Basic Equation",code:"x^y",buttonArray:[{title:"Super Script",code:"x^y"},{title:"Sub Script",code:"x_{y}"},{title:"Sub Script",code:"x^{n}_{m}"},{title:"Fraction",code:"\\frac{x}{y}"},{title:"Root",code:"\\sqrt[n]{x}"}]},{title:"Large Operator",code:"\\sum_{k=1}^{n}",buttonArray:[{title:"Summation",code:"\\sum_{k=1}^{n}"},{title:"Products",code:"\\prod_{k=1}^{n}"}]},{title:"Function",code:"\\sin{x}",buttonArray:[{title:"Sine",code:"\\sin{x}"},{title:"Cosine",code:"\\cos{x}"},{title:"Tangent",code:"\\tan{x}"},{title:"Sine",code:"\\csc{x}"},{title:"Cosine",code:"\\sec{x}"},{title:"Tangent",code:"\\cot{x}"},{title:"Sine",code:"\\sin^{-1}{x}"},{title:"Cosine",code:"\\cos^{-1}{x}"},{title:"Tangent",code:"\\tan^{-1}{x}"},{title:"Sine",code:"\\csc^{-1}{x}"},{title:"Cosine",code:"\\sec^{-1}{x}"},{title:"Tangent",code:"\\cot^{-1}{x}"},{title:"Sine",code:"\\sinh{x}"},{title:"Cosine",code:"\\cosh{x}"},{title:"Tangent",code:"\\tanh{x}"},{title:"Sine",code:"\\text{csch}^{-1} {x}"},{title:"Cosine",code:"\\text{sech} {x}"},{title:"Tangent",code:"\\coth{x}"},{title:"Sine",code:"\\sinh^{-1}{x}"},{title:"Cosine",code:"\\cosh^{-1}{x}"},{title:"Tangent",code:"\\tanh^{-1}{x}"},{title:"Sine",code:"\\text{csch}^{-1} {x}"},{title:"Cosine",code:"\\text{sech}^{-1} {x}"},{title:"Tangent",code:"\\coth^{-1}{x}"}]},{title:"Integral",code:"\\int_{x}^{-x}",buttonArray:[{title:"",code:"\\int{x}"},{title:"",code:"\\int_{x}^{-x}{f(x)}"},{title:"",code:"\\oint_V f(s)"},{title:"",code:"\\frac{dx}{dy}"},{title:"",code:"\\frac{\\partial f}{\\partial x}"},{title:"",code:"\\frac{\\partial^k f}{\\partial x^k}"},{title:"",code:"f'(x)"},{title:"",code:"f^{(k)}(x)"}]},{title:"Limit and Log",code:"\\lim_{x \\to +\\infty} f(x)",buttonArray:[{title:"",code:"\\lim_{x \\to +\\infty} f(x)"},{title:"",code:"\\lim_{x \\to -\\infty} f(x)"},{title:"",code:"\\lim_{x \\to \\alpha} f(x)"},{title:"",code:"\\inf_{x > s}f(x)"},{title:"",code:"\\sup_{x \\in \\mathbb{R}}f(x)"},{title:"",code:"\\max_{x \\in \\mathbb{R}}f(x)"},{title:"",code:"\\min_{x \\in \\mathbb{R}}f(x)"},{title:"",code:"\\log{f(x)}"}]}]},686:function(e,t,a){e.exports=a.p+"static/media/lattex-header-logo-orange.604013e8.svg"},687:function(e,t,a){e.exports=a.p+"static/media/lattex-header-logo.b8630481.svg"},70:function(e,t,a){"use strict";a.r(t),a.d(t,"STEMS",(function(){return n})),a.d(t,"APP_ROUTES",(function(){return l})),a.d(t,"APP_PATHS",(function(){return o}));a(50);var n={HOME:"/",EDITOR:"/editor",NOT_FOUND:"/404"},l={HOME:"".concat(n.HOME),EDITOR:function(e){return"".concat(n.EDITOR,"/").concat(e)},EDITORS:"".concat(n.EDITOR),NOT_FOUND:"".concat(n.NOT_FOUND)},o={HOME:"".concat(n.HOME),LOGIN:"".concat(n.LOGIN),EDITOR:"".concat(n.EDITOR,"/:id"),EDITORS:"".concat(n.EDITOR),NOT_FOUND:"".concat(n.NOT_FOUND)}},704:function(e,t,a){e.exports=a(1616)},713:function(e,t,a){e.exports=a.p+"static/media/equation-4.d5c7454d.svg"},714:function(e,t,a){e.exports=a.p+"static/media/equation-5.11b60ea1.svg"},715:function(e,t,a){e.exports=a.p+"static/media/graph-bar.0836f245.svg"},716:function(e,t,a){}},[[704,1,2]]]);
//# sourceMappingURL=main.5e7a19df.chunk.js.map